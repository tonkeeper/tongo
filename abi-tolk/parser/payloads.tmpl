
{{- range  $tag, $ops := .Operations }}
    {{- range $op := $ops}}
      func decode{{ $op.GolangOpcodeName }}Payload(j *Payload, c *boc.Cell) error {
      var res {{ $op.GolangTypeName }}
       err := tlb.Unmarshal(c, &res)
       if err == nil {{if $op.FixedLength }}  && completedRead(c) {{end}} {
        j.SumType = {{ $op.GolangOpcodeName }}
        j.Value = res
        return nil
      }
      return err
      }
    {{ end }}
{{- end }}


const (
{{- range  $tag, $ops := .Operations }}
    {{- range $op := $ops}}
       {{ $op.GolangOpcodeName }} PayloadOpName = "{{ $op.OperationName }}"
    {{- end }}
{{- end }}

{{ range  $tag, $ops := .Operations -}}
    {{- range $op := $ops}}
       {{ $op.GolangOpcodeName }}Code PayloadOpCode = 0x{{ printf "%08x" $op.Tag }}
   {{- end }}
{{- end }}
)

var KnownPayloadTypes = map[string]any{
{{- range  $tag, $ops := .Operations }}
    {{- range $op := $ops}}
       {{ $op.GolangOpcodeName }}: {{ $op.GolangTypeName }}{},
   {{- end }}
{{- end }}

}
var PayloadOpCodes = map[PayloadOpName]PayloadOpCode{
{{- range  $tag, $ops := .Operations }}
    {{- range $op := $ops}}
       {{ $op.GolangOpcodeName }}: {{ $op.GolangOpcodeName }}Code,
   {{- end }}
{{- end }}
}

var funcPayloadDecodersMapping = map[PayloadOpCode]func(*Payload, *boc.Cell) error{
{{- range  $tag, $ops := .Operations }}
    {{- range $op := $ops}}
       {{ $op.GolangOpcodeName }}Code: decode{{ $op.GolangOpcodeName }}Payload,
   {{- end }}
{{- end }}
}


{{- range  $tag, $ops := .Operations }}
    {{- range $op := $ops}}
       {{ $op.Code }}
    {{- end }}
{{- end }}