package boc

import (
	"encoding/hex"
	"fmt"
	"testing"
)

func TestBigCell(t *testing.T) {
	s := "te6cckICA9AAAQAAHlYAAASHgAmuue1sREIHsfSpMGIkT0QVyE0N8vxUc/pRQjbXCKF+gAAAAAAAAD6AAAAAAAAAPoAAAAAAAATiFV0h26AAQjw0YAwAAQACAAMABAIDyUAABQAGAgAAQQBCART/APSkE/S88sgLAEMASwAFAGSAFbtNABY3OMKUjDKXHETek4Ew29xLUIOiZeRZ8Qj2n9qQAgEgAAcACAIBYgAlACYCASAACQAKAgEgABcAGAIBIAALAAwCASAAEQASAgEgAA0ADgIBIAAPABACASAAUgBTAgEgAHwAfQIBIACmAKcCASAA2gDbAgEgABMAFAIBIAAVABYCASABFAEVAgEgAVIBUwIBIAF2AXcCASABsgGzAgEgABkAGgIBIAAfACACASAAGwAcAgEgAB0AHgIBIAHiAeMCASACFAIVAgEgAkQCRQIBIAJ2AncCASAAIQAiAgEgACMAJAIBIAKcAp0CASAC2ALZAgEgAwoDCwIBIANGA0cCASAAJwAoAgFIACkAKgIBIAN8A30CASADngOfAgEgACsALAALoAwAAJiCAgEgAC0ALgIBIAAzADQCASAALwAwAAuzIAAEpxACAVgAMQAyAAuswAAJreAACbwAAEqRAAm2AABLPQIBIAA1ADYCASAAOwA8AAurAAAJcaACASAANwA4AgJ1ADkAOgALogAAEtPAAAkAAAlVIAAJAAAJjqAAC6zAAAmQYAIBIAA9AD4AC6cAABK+QAIBIAA/AEAACbQAAEq/AAm4AABM+QDEAWh0dHBzOi8vd2hhbGVzLmluZnVyYS1pcGZzLmlvL2lwZnMvUW1UV0VHZ2dFMmo0bW5YNGtNakJMemhWM0s1UkR4eUpUYnk4WlBiNFJqVjFVZy9jb2xsZWN0aW9uLmpzb24ApGh0dHBzOi8vd2hhbGVzLmluZnVyYS1pcGZzLmlvL2lwZnMvUW1UV0VHZ2dFMmo0bW5YNGtNakJMemhWM0s1UkR4eUpUYnk4WlBiNFJqVjFVZy8CAWIARABFAgLOAEYARwIBagBQAFECASAASABJAgEgAE4ATwL3DIhxwCSXwPg0NMDAXGwkl8D4PpA+kAx+gAxcdch+gAx+gAw8AIEs45AMGwiNFIyxwXy4ZUB+kDUXiFSNfADIddKwgCOIQHUMIIK+vCAcPsCcYAQyMsFUAPPFnD6AhLLaszJgwb7AJFb4uAG0x/TP4IQX8w9FFIwuuMCMIABKAEsAET6RDBwuvLhTYAEOMhA3XjJAEwBMAJw0NDU1ghAvyyaiErqOOXCCEIt3FzUFyMv/UATPFhAkgEBwgBDIywVQB88WUAX6AhXLahLLH8s/Im6zlFjPFwGRMuIByQH7AOBfBIQP8vAB9lE1xwXy4ZH6QCHwAfpA0gAx+gCCCvrwgBuhIZRTFaCh3iLXCwHDACCSBqGRNuIgwv/y4ZIhjj6CEAUTjZHIUAnPFlALzxZxJEkUVEagcIAQyMsFUAfPFlAF+gIVy2oSyx/LPyJus5RYzxcBkTLiAckB+wAQR5QQKjdb4gBNAIICjjUm8AGCENUydtsQN0QAbXFwgBDIywVQB88WUAX6AhXLahLLH8s/Im6zlFjPFwGRMuIByQH7AJMwMjTiVQLwAwA7O1E0NM/+kAg10nCAJp/AfpA1DAQJBAj4DBwWW1tgAB0A8jLP1jPFgHPFszJ7VSAACbX5/gBQAE23ejBOC52Hq6WVz2PQnYc6yVCjbNBOH4hR19iLvb1Jphh3sNg6YpACASAAVABVAgEgAGQAZQIBIABWAFcCASAAWgBbAgFIAFgAWQALs4AABLqQAAnQAACZ0gAJ8AAAlUYCASAAXABdAgFIAGIAYwIBIABeAF8CAe4AYABhAAukgAATMkAAC6cAABKVwAAJQAACU+gACUAAAmyYAAnwAACWsgAJ8AAAlRICASAAZgBnAgEgAHIAcwIBSABoAGkCASAAagBrAAulgAATP0AAC6aAABK2QAIBIABsAG0AC6uAAAlfoAIBWABuAG8CASAAcABxAAlkAACaTgAJ8AABK7QACbIAAE3PAAm2AABKUwIB0gB0AHUCASAAdgB3AAlQAAJcKAAJQAACYQgCASAAeAB5AAurgAAJZSAAC6cAABNQQAIBSAB6AHsACdAAASp8AAloAACb/gIBIAB+AH8CASAAkgCTAgEgAIAAgQIBIACIAIkCASAAggCDAAu2oAAEznACAWYAhACFAgFIAIYAhwAJ8AABKuQACWgAAJl6AAm4AABMBQAJugAATLkCAUgAigCLAgEgAI4AjwALoYAAE21AAgEgAIwAjQAJugAASw8ACfgAASnkAgEgAJAAkQALr4AACVwgAAujgAATY8AACfAAAJaCAgEgAJQAlQIBIACcAJ0CAnIAlgCXAgFIAJgAmQAJ0AABLtQACWQAAJkSAgFIAJoAmwALpQAAE0VAAAnQAAEpVAAJ0AABMhQCASAAngCfAgEgAKIAowALrIAACYXgAgFIAKAAoQAJugAATQMACboAAEvBAAurgAAJXiACASAApAClAAujgAAS78AAC6GAABNewAIBIACoAKkCASAAygDLAgEgAKoAqwIBIADAAMECASAArACtAgEgALYAtwIBIACuAK8CASAAsACxAAuggAATC0AACfAAAJqOAAuggAASnUACASAAsgCzAgEgALQAtQAJsgAATEMACfAAASyMAAnQAAE3RAIBIAC4ALkCAnYAvgC/AAujgAATf0ACAVgAugC7AgEgALwAvQAJaAAAmLYACUAAAmGIAAlAAAJYOAAJQAACXtgACUAAAm04AgEgAMIAwwIBIADGAMcCAWoAxADFAAuqQAAJWeAACWQAAJUqAAlkAACbAgIBbgDIAMkAC6zAAAmBYAAJ8AABKRQACWQAAJo+AgEgAMwAzQIBIADQANECASAAzgDPAAu1wAAEv7AAC60AAAmQIAALrkAACXNgAgEgANIA0wIBIADWANcCAUgA1ADVAAn0AACYdgAJugAAThUACfgAATI0AAuqAAAJYSACAUgA2ADZAAmyAABKdwAJ+AABMAQCASAA3ADdAgEgAPgA+QIBIADeAN8CASAA8ADxAgEgAOAA4QIBIADuAO8CASAA4gDjAgEgAOgA6QIBSADkAOUACfAAAJXWAAloAACXTgIBIADmAOcACUAAAlYYAAlQAAJUyAIBagDqAOsCASAA7ADtAAlAAAJvKAAJQAACVWgACbQAAEuxAAm4AABKtQALrYAACW7gAAutQAAJt2ACASAA8gDzAgEgAPQA9QALrQAACaegAAupgAAJceACASAA9gD3AAutgAAJu6AAC6OAABNWwAALpwAAE0BAAgEgAPoA+wIBIAEIAQkCASAA/AD9AgEgAQIBAwIBagD+AP8CASABAAEBAAnwAAEwTAAJ0AABMrwAC6CAABKXwAALpYAAEsnAAgEgAQQBBQALqoAACYRgAgEgAQYBBwAJ8AAAmYYACbwAAE0XAAnYAAE2tAIBIAEKAQsCAVgBEgETAgEgAQwBDQIBIAEOAQ8AC6WAABN2wAALooAAE0NAAgFuARABEQAJ0AAAlJYACUAAAlnYAAlQAAJqiAALpIAAEz7AAAunAAATUMACASABFgEXAgEgAT4BPwIBIAEYARkCASABKgErAgEgARoBGwIBIAEkASUCASABHAEdAgEgASABIQIBYgEeAR8AC6KAABLVQAAJQAACYUgACVAAAlo4AgEgASIBIwALoIAAEvdAAAm4AABOAwAJugAASuMCASABJgEnAgFIASgBKQALowAAEzZAAAujgAAS7sAACdgAATVUAAm8AABNWQIBIAEsAS0CAVgBNAE1AgEgAS4BLwIBSAEwATEAC6OAABLkwAALooAAEsrAAAmyAABNoQIBSAEyATMACUAAAm1IAAlAAAJuSAIBWAE2ATcCASABOAE5AAnQAAEzHAAJ8AABLUQCASABOgE7AAm6AABMuwIBIAE8AT0ACWQAAJvGAAlAAAJl+AAJUAACbYgCASABQAFBAgEgAUYBRwIBIAFCAUMCASABRAFFAAuvAAAJsGAAC6wAAAlY4AALqYAACWQgAAuuwAAJaSACASABSAFJAgEgAVABUQIBIAFKAUsAC6yAAAlXYAALpYAAEt5AAgEgAUwBTQAJ2AABKTQCASABTgFPAAlkAACaVgAJ0AABKQwAC6mAAAll4AALqQAACVzgAgEgAVQBVQIBIAFkAWUCASABVgFXAgEgAV4BXwIBIAFYAVkAC7CgAATPEAIBSAFaAVsCAnIBXAFdAAmyAABN2QAJtAAATTsACUAAAmZoAAlQAAJviAIBIAFgAWEAC7egAAS5cAALqQAACYBgAgEgAWIBYwALpQAAE2NAAAuhgAATFMACASABZgFnAgEgAXIBcwIBIAFoAWkCASABbAFtAgHuAWoBawALrcAACVGgAAlQAAJumAAJUAACXrgAC6mAAAma4AIBWAFuAW8ACbQAAEpnAgEgAXABcQAJaAAAlwIACWgAAJaKAgEgAXQBdQALtOAABMqQAAuvQAAJiKAAC6xAAAls4AIBIAF4AXkCASABkgGTAgEgAXoBewIBIAGIAYkCASABfAF9AgEgAYIBgwALqQAACYZgAgFYAX4BfwIBIAGAAYEACdgAATfcAAnQAAEtNAAJaAAAm4YCASABhAGFAAuuwAAJkeACAUgBhgGHAAuigAATHsAACWgAAJp+AAnwAAE3zAIBSAGKAYsCASABjAGNAAumAAASmMAAC6QAABL8QAALrYAACXIgAgEgAY4BjwICdQGQAZEAC6EAABM9QAAJAAAJnmAACQAACYcgAgEgAZQBlQIBIAGgAaECASABlgGXAgEgAZ4BnwIBIAGYAZkCAUgBnAGdAAuhgAASwEACASABmgGbAAm6AABK1wAJ+AABMlwACbQAAEydAAm0AABMfwALrIAACXPgAAuuwAAJlWACASABogGjAgEgAaYBpwALrUAACX1gAgEgAaQBpQALo4AAEurAAAulAAAS5UACAUgBqAGpAgEgAaoBqwAJ2AABNmwACbwAAE3NAgEgAawBrQIBIAGwAbECASABrgGvAAmyAABMEQAJ0AABKqwACWgAAJmmAAnYAAEwHAAJsgAATcsCASABtAG1AgEgAc4BzwIBIAG2AbcCASABwgHDAgEgAbgBuQIBIAG6AbsAC61AAAnAoAALqkAACYHgAAuugAAJtyACASABvAG9AgEgAb4BvwIBIAHAAcEACbYAAE1TAAm0AABLoQAJvAAASpMACdgAATfkAgFIAcQBxQIBIAHIAckAC6MAABLiQAIBZgHGAccACVAAAnAIAAlQAAJeKAIBIAHKAcsACfQAAJwuAgJxAcwBzQALogAAErbAAAkAAAnD4AAJAAAJZmACASAB0AHRAgFYAdwB3QIBIAHSAdMCASAB1gHXAgJxAdQB1QALqgAACbzgAAlQAAJXuAAJQAACUogAC6zAAAmT4AIBIAHYAdkCASAB2gHbAAumgAATZcAACbgAAEvZAAn4AAExzAAJ9AAAmI4CASAB3gHfAgFYAeAB4QALogAAEvvAAAnQAAE01AAJ0AABKTwCASAB5AHlAgEgAgQCBQIBIAHmAecCASAB9AH1AgEgAegB6QIBIAHsAe0AC69AAAl3IAIBbgHqAesACfAAASmsAAnQAAE0vAALrkAACamgAgEgAe4B7wALpYAAEyTAAgEgAfAB8QIB9AHyAfMACboAAE4RAAkAAAnBIAAJAAAJVuACASAB9gH3AgEgAf4B/wIBIAH4AfkCASAB/AH9AgFYAfoB+wALo4AAEo9AAAloAACVAgAJ8AABOBwAC6QAABN1wAALpAAAEt7AAgEgAgACAQIBIAICAgMAC6QAABL4QAALo4AAExtAAAukgAATUsAAC6WAABLyQAIBIAIGAgcCASACCgILAgEgAggCCQALtMAABK8wAAuswAAJmKAAC6rAAAmMIAIBIAIMAg0AC7EAAASzcAIBIAIOAg8CAVgCEAIRAAnQAACaigALoYAAEvnAAgFYAhICEwAJtAAATZkACUAAAm2YAAlAAAJfKAIBIAIWAhcCASACLgIvAgEgAhgCGQIBIAIoAikCASACGgIbAgEgAiACIQIBIAIcAh0CASACHgIfAAuigAASrMAAC6WAABNBQAALoQAAEuZAAAuigAAS3MACASACIgIjAgEgAiQCJQAJ0AAAljIAC6CAABLxwAIBIAImAicAC6GAABNGQAAJ+AABM0QACbYAAExfAAu2gAAEx9ACASACKgIrAAuugAAJg6ACASACLAItAAukgAATCsAAC6cAABLVwAIBIAIwAjECASACOgI7AgEgAjICMwIBIAI0AjUAC6+AAAnDIAAJ1AAAltYCASACNgI3AAuqAAAJgSAAC6QAABMoQAIBZgI4AjkACVAAAmmYAAlQAAJWiAALsOAABNXwAgFIAjwCPQIBIAI+Aj8AC6WAABMSwAIBSAJAAkECAUgCQgJDAAlQAAJa2AAJUAACZxgACVAAAmroAAlAAAJjGAIBIAJGAkcCASACYAJhAgEgAkgCSQIBIAJMAk0CASACSgJLAAuwgAAE0dAAC60AAAme4AALq8AACYqgAgFYAk4CTwIBIAJSAlMAC6SAABMGQAICdAJQAlEACQAACXDgAAkAAAmLoAIBIAJUAlUCASACXgJfAgFIAlYCVwIBIAJaAlsCASACWAJZAAnwAAEsTAAJUAACZRgACUAAAlboAgEgAlwCXQAJvAAASz8ACfAAATTEAAloAACWYgALpYAAErFAAAunAAAS8sACASACYgJjAgEgAmwCbQIBIAJkAmUCASACZgJnAAuswAAJsiAAC6jAAAlwYAALrsAACX5gAgFIAmgCaQIBIAJqAmsACdgAATW0AAloAACV/gAJZAAAmiICASACbgJvAgFYAnICcwIB7gJwAnEAC69AAAmg4AAJUAACUfgACUAAAlioAgFIAnQCdQALpgAAE3tAAAlkAACZZgAJZAAAl6ICASACeAJ5AgEgAooCiwIBIAJ6AnsCASACgAKBAgEgAnwCfQIBSAJ+An8AC6+AAAl/IAALqwAACa8gAAuhAAATWcAAC6CAABMlQAIBIAKCAoMCASAChAKFAAusAAAJlKAAC6pAAAmxYAIBWAKGAocCASACiAKJAAn4AAEtvAAJ+AABLzQAC6KAABN6QAALpgAAEzBAAgEgAowCjQIBIAKWApcCASACjgKPAgEgApQClQALqEAACUugAgFIApACkQAJ+AABK0wCAVgCkgKTAAlQAAJdGAAJQAACZFgAC68AAAl4YAAJ1AAAmu4CAUgCmAKZAAu3IAAEuLACAWYCmgKbAAnQAACargAJQAACZNgACVAAAlI4AgEgAp4CnwIBIAK8Ar0CASACoAKhAgEgAq4CrwIBIAKiAqMAC7bgAASx8AIBIAKkAqUCAVgCrAKtAgEgAqYCpwIBWAKoAqkACboAAEqnAAnYAAEpJAIBWAKqAqsACdAAATLEAAkAAAmuoAAJAAAJiyAACbYAAErvAAm2AABMawIBIAKwArECAUgCuAK5AgFIArICswIBIAK0ArUACbwAAErfAAn4AAErJAIBIAK2ArcAC6YAABMmQAAJvAAATSMACbgAAEq9AgEgAroCuwALpwAAEqvAAAm8AABLYQAJugAATfsCASACvgK/AgEgAs4CzwIBIALAAsECASACxALFAAuvQAAJViACAWICwgLDAAnQAAEulAAJ8AABNYQCASACxgLHAgFIAsoCywIBIALIAskAC6GAABNEwAAJvAAATUkACbwAAEphAgHUAswCzQAJsgAASjkACQAACbjgAAkAAAmJoAALsEAABK5QAgFYAtAC0QIBIALSAtMCASAC1gLXAgEgAtQC1QAJtAAATGkACWgAAJiiAAnQAAEzvAAJuAAATK0ACbYAAE3FAgEgAtoC2wIBIALsAu0CASAC3ALdAgEgAuQC5QALtSAABKgwAgEgAt4C3wIBIALgAuECASAC4gLjAAuggAATIcAAC6OAABMSQAALpwAAEp7AAAnQAACW4gALs8AABKpQAgFIAuYC5wALpoAAEstAAgEgAugC6QIBWALqAusACbYAAEztAAlQAAJU2AAJUAACYagCASAC7gLvAgEgAwQDBQIBIALwAvECASAC+AL5AgEgAvIC8wIBIAL0AvUAC6aAABL1QAALoQAAEr1AAAuggAAS68ACAVgC9gL3AAlkAACYPgAJ0AABMdwCASAC+gL7AgEgAwADAQIBIAL8Av0CASAC/gL/AAm8AABK1QAJugAATHEACbYAAEynAAm0AABNhQALpwAAEqdAAgFuAwIDAwAJQAACbRgACUAAAmaoAAuy4AAEtlACAUgDBgMHAAumgAASssACAUgDCAMJAAnwAAEsFAAJZAAAl+4CASADDAMNAgEgAy4DLwIBIAMOAw8CASADGAMZAgEgAxADEQIBIAMUAxUAC67AAAmkIAIBIAMSAxMAC6KAABLCwAAJ8AAAmHoACfQAAJX2AgFYAxYDFwAJsgAATM8ACbQAAE23AgEgAxoDGwIBIAMgAyECAVgDHAMdAgEgAx4DHwAJ+AABOCwACfgAATHkAAuggAAS88AAC6YAABOHQAIBYgMiAyMCASADJAMlAAloAACWcgAJ0AABMtwCAWYDJgMnAgEgAygDKQAJQAACZwgACUAAAmz4AgEgAyoDKwAJtgAATX0ACWgAAJZKAgEgAywDLQAJQAACWBgACVAAAljYAgEgAzADMQIBIAM8Az0CAVgDMgMzAgOkQAM6AzsCASADNAM1AgEgAzYDNwAJugAATb8ACboAAEyRAgFIAzgDOQAJ+AABM/wACVAAAmm4AAlQAAJemAAJQAACVggACUAAAlvoAgEgAz4DPwALsCAABMZwAAuuQAAJsqACASADQANBAgEgA0IDQwALpIAAEplAAgFIA0QDRQAJ+AABNTwACUAAAl1oAAlAAAJfGAIBIANIA0kCASADXANdAgFYA0oDSwIBIANOA08AC63AAAmH4AIBIANMA00AC6aAABNYwAAJ8AAAmK4CASADUANRAgFYA1gDWQIBWANSA1MCAUgDVANVAAm6AABKQQAJ+AABKzQACbwAAEuzAgEgA1YDVwAJZAAAlNoACWgAAJvqAgEgA1oDWwALoQAAE4NAAAm4AABNGwAJtAAATesCASADXgNfAgEgA2YDZwIBWANgA2ECASADYgNjAAulAAATA0AAC6QAABMZQAALq4AACbSgAgFiA2QDZQAJaAAAmDYACWQAAJwmAgEgA2gDaQIBIANsA20AC69AAAmhYAIBIANqA2sAC6YAABNOQAALpYAAEudAAgEgA24DbwIBIANyA3MCASADcANxAAulgAATLUAACfgAATdUAAm8AABL/QIBIAN0A3UAC6YAABKWwAIBIAN2A3cCASADegN7AgEgA3gDeQAJ0AABLEQACUAAAloYAAlAAAJe+AAJ0AABOGwACfAAATb0AgEgA34DfwIBIAOOA48CASADgAOBAgFYA4oDiwIBIAOCA4MCAVgDiAOJAgFuA4QDhQIBIAOGA4cACWQAAJhuAAloAACW/gALpAAAEt1AAAuiAAASzUAAC6cAABKoQAALpQAAE2JAAgEgA4wDjQALqwAACaygAAnwAACWGgALooAAE1rAAAu5EAACW0gCASADkAORAgEgA5IDkwIBIAOWA5cAC67AAAlpYAIBIAOUA5UAC6GAABNrwAAJ8AAAl24CAnEDmAOZAgEgA5wDnQAJUAACVLgCASADmgObAAkAAAmcoAAJAAAJfSAAC6OAABN4QAAJ8AAAmCoCASADoAOhAgEgA8ADwQIBIAOiA6MCASADtgO3AgEgA6QDpQIBIAOuA68CASADpgOnAgFuA6wDrQALpQAAEtfAAgEgA6gDqQIBIAOqA6sACbwAAE2HAAnwAAE3vAAJ0AABNfwACWgAAJT+AAloAACcHgIBIAOwA7ECAWIDtAO1AgEgA7IDswALogAAE0lAAAnYAAEv1AAJuAAATSkACWgAAJm6AAnwAAE1pAIBIAO4A7kCAWoDvAO9AAuqQAAJguACASADugO7AAujgAAS+0AAC6UAABM3wAIBIAO+A78ACdgAATXEAAnQAAEpZAAJ0AABKOwCASADwgPDAgFqA84DzwIBIAPEA8UAC7SAAATcEAIBWAPGA8cCASADyAPJAAnYAAEsdAAJtAAATS0CASADygPLAgFIA8wDzQAJvAAASmkACbQAAEttAAnwAAE2rAAJaAAAlOYAC6MAABNDwAALo4AAEzbA9QI7Jg=="
	cells, err := DeserializeBocBase64(s)
	if err != nil {
		fmt.Println(err)
		t.Fail()
		return
	}
	x, err := SerializeBoc(cells[0], false, true, false, 0)
	if err != nil {
		fmt.Println(err)
		t.Fail()
		return
	}
	_, err = DeserializeBoc(x)
	if err != nil {
		fmt.Println(err)
		t.Fail()
		return
	}
}

func TestKek(t *testing.T) {
	s := "b5ee9c72c10101010003000000028058c23e9f"

	data, _ := hex.DecodeString(s)

	cells, err := DeserializeBoc(data)
	if err != nil {
		fmt.Println(err)
		t.Fail()
		return
	}
	hash, err := cells[0].Hash()
	fmt.Println(hex.EncodeToString(hash))

	//fmt.Println(hex.EncodeToString(cells[0].ToBOC()))
	//fmt.Sprintf("%x", cells[0].Hash())
	//fmt.Println(cells[0].Hash())
	//cells[0].Bits.Print()
	//parse := cells[0].BeginParse()

	//fmt.Println(parse.ReadBigUint(8))
}

func TestKek2(t *testing.T) {
	s := "b5ee9c72c10101010003000000028058c23e9f"

	data, _ := hex.DecodeString(s)

	cells, err := DeserializeBoc(data)
	if err != nil {
		fmt.Println(err)
		t.Fail()
		return
	}
	//fmt.Println(hex.EncodeToString(cells[0].Hash()))

	//fmt.Println("danila:", hex.EncodeToString(cells[0].ToBOC()))

	serialized, err := SerializeBoc(cells[0], true, true, false, 0)
	if err != nil {
		t.Fatal(err)
	}
	fmt.Println("my:", hex.EncodeToString(serialized))

	testCell := NewCell()
	err = testCell.Bits.WriteUint(128, 8)
	if err != nil {
		t.Fatal(err)
	}
	testCell2 := NewCell()
	err = testCell2.Bits.WriteInt(-55, 32)
	if err != nil {
		t.Fatal(err)
	}
	_, err = testCell.AddReference(testCell2)
	if err != nil {
		t.Fatal(err)
	}
	serialized2, err := SerializeBoc(testCell, true, true, false, 0)
	if err != nil {
		t.Fatal(err)
	}
	fmt.Println("kek:", hex.EncodeToString(serialized2))

	//fmt.Sprintf("%x", cells[0].Hash())
	//fmt.Println(cells[0].Hash())
	//cells[0].Bits.Print()
	//parse := cells[0].BeginParse()

	//fmt.Println(parse.ReadBigUint(8))
}
