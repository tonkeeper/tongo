package boc

import (
	"encoding/hex"
	"encoding/json"
	"fmt"
	"io/ioutil"
	"reflect"
	"strings"
	"testing"
)

func TestBigCell(t *testing.T) {
	s := "te6cckICA9AAAQAAHlYAAASHgAmuue1sREIHsfSpMGIkT0QVyE0N8vxUc/pRQjbXCKF+gAAAAAAAAD6AAAAAAAAAPoAAAAAAAATiFV0h26AAQjw0YAwAAQACAAMABAIDyUAABQAGAgAAQQBCART/APSkE/S88sgLAEMASwAFAGSAFbtNABY3OMKUjDKXHETek4Ew29xLUIOiZeRZ8Qj2n9qQAgEgAAcACAIBYgAlACYCASAACQAKAgEgABcAGAIBIAALAAwCASAAEQASAgEgAA0ADgIBIAAPABACASAAUgBTAgEgAHwAfQIBIACmAKcCASAA2gDbAgEgABMAFAIBIAAVABYCASABFAEVAgEgAVIBUwIBIAF2AXcCASABsgGzAgEgABkAGgIBIAAfACACASAAGwAcAgEgAB0AHgIBIAHiAeMCASACFAIVAgEgAkQCRQIBIAJ2AncCASAAIQAiAgEgACMAJAIBIAKcAp0CASAC2ALZAgEgAwoDCwIBIANGA0cCASAAJwAoAgFIACkAKgIBIAN8A30CASADngOfAgEgACsALAALoAwAAJiCAgEgAC0ALgIBIAAzADQCASAALwAwAAuzIAAEpxACAVgAMQAyAAuswAAJreAACbwAAEqRAAm2AABLPQIBIAA1ADYCASAAOwA8AAurAAAJcaACASAANwA4AgJ1ADkAOgALogAAEtPAAAkAAAlVIAAJAAAJjqAAC6zAAAmQYAIBIAA9AD4AC6cAABK+QAIBIAA/AEAACbQAAEq/AAm4AABM+QDEAWh0dHBzOi8vd2hhbGVzLmluZnVyYS1pcGZzLmlvL2lwZnMvUW1UV0VHZ2dFMmo0bW5YNGtNakJMemhWM0s1UkR4eUpUYnk4WlBiNFJqVjFVZy9jb2xsZWN0aW9uLmpzb24ApGh0dHBzOi8vd2hhbGVzLmluZnVyYS1pcGZzLmlvL2lwZnMvUW1UV0VHZ2dFMmo0bW5YNGtNakJMemhWM0s1UkR4eUpUYnk4WlBiNFJqVjFVZy8CAWIARABFAgLOAEYARwIBagBQAFECASAASABJAgEgAE4ATwL3DIhxwCSXwPg0NMDAXGwkl8D4PpA+kAx+gAxcdch+gAx+gAw8AIEs45AMGwiNFIyxwXy4ZUB+kDUXiFSNfADIddKwgCOIQHUMIIK+vCAcPsCcYAQyMsFUAPPFnD6AhLLaszJgwb7AJFb4uAG0x/TP4IQX8w9FFIwuuMCMIABKAEsAET6RDBwuvLhTYAEOMhA3XjJAEwBMAJw0NDU1ghAvyyaiErqOOXCCEIt3FzUFyMv/UATPFhAkgEBwgBDIywVQB88WUAX6AhXLahLLH8s/Im6zlFjPFwGRMuIByQH7AOBfBIQP8vAB9lE1xwXy4ZH6QCHwAfpA0gAx+gCCCvrwgBuhIZRTFaCh3iLXCwHDACCSBqGRNuIgwv/y4ZIhjj6CEAUTjZHIUAnPFlALzxZxJEkUVEagcIAQyMsFUAfPFlAF+gIVy2oSyx/LPyJus5RYzxcBkTLiAckB+wAQR5QQKjdb4gBNAIICjjUm8AGCENUydtsQN0QAbXFwgBDIywVQB88WUAX6AhXLahLLH8s/Im6zlFjPFwGRMuIByQH7AJMwMjTiVQLwAwA7O1E0NM/+kAg10nCAJp/AfpA1DAQJBAj4DBwWW1tgAB0A8jLP1jPFgHPFszJ7VSAACbX5/gBQAE23ejBOC52Hq6WVz2PQnYc6yVCjbNBOH4hR19iLvb1Jphh3sNg6YpACASAAVABVAgEgAGQAZQIBIABWAFcCASAAWgBbAgFIAFgAWQALs4AABLqQAAnQAACZ0gAJ8AAAlUYCASAAXABdAgFIAGIAYwIBIABeAF8CAe4AYABhAAukgAATMkAAC6cAABKVwAAJQAACU+gACUAAAmyYAAnwAACWsgAJ8AAAlRICASAAZgBnAgEgAHIAcwIBSABoAGkCASAAagBrAAulgAATP0AAC6aAABK2QAIBIABsAG0AC6uAAAlfoAIBWABuAG8CASAAcABxAAlkAACaTgAJ8AABK7QACbIAAE3PAAm2AABKUwIB0gB0AHUCASAAdgB3AAlQAAJcKAAJQAACYQgCASAAeAB5AAurgAAJZSAAC6cAABNQQAIBSAB6AHsACdAAASp8AAloAACb/gIBIAB+AH8CASAAkgCTAgEgAIAAgQIBIACIAIkCASAAggCDAAu2oAAEznACAWYAhACFAgFIAIYAhwAJ8AABKuQACWgAAJl6AAm4AABMBQAJugAATLkCAUgAigCLAgEgAI4AjwALoYAAE21AAgEgAIwAjQAJugAASw8ACfgAASnkAgEgAJAAkQALr4AACVwgAAujgAATY8AACfAAAJaCAgEgAJQAlQIBIACcAJ0CAnIAlgCXAgFIAJgAmQAJ0AABLtQACWQAAJkSAgFIAJoAmwALpQAAE0VAAAnQAAEpVAAJ0AABMhQCASAAngCfAgEgAKIAowALrIAACYXgAgFIAKAAoQAJugAATQMACboAAEvBAAurgAAJXiACASAApAClAAujgAAS78AAC6GAABNewAIBIACoAKkCASAAygDLAgEgAKoAqwIBIADAAMECASAArACtAgEgALYAtwIBIACuAK8CASAAsACxAAuggAATC0AACfAAAJqOAAuggAASnUACASAAsgCzAgEgALQAtQAJsgAATEMACfAAASyMAAnQAAE3RAIBIAC4ALkCAnYAvgC/AAujgAATf0ACAVgAugC7AgEgALwAvQAJaAAAmLYACUAAAmGIAAlAAAJYOAAJQAACXtgACUAAAm04AgEgAMIAwwIBIADGAMcCAWoAxADFAAuqQAAJWeAACWQAAJUqAAlkAACbAgIBbgDIAMkAC6zAAAmBYAAJ8AABKRQACWQAAJo+AgEgAMwAzQIBIADQANECASAAzgDPAAu1wAAEv7AAC60AAAmQIAALrkAACXNgAgEgANIA0wIBIADWANcCAUgA1ADVAAn0AACYdgAJugAAThUACfgAATI0AAuqAAAJYSACAUgA2ADZAAmyAABKdwAJ+AABMAQCASAA3ADdAgEgAPgA+QIBIADeAN8CASAA8ADxAgEgAOAA4QIBIADuAO8CASAA4gDjAgEgAOgA6QIBSADkAOUACfAAAJXWAAloAACXTgIBIADmAOcACUAAAlYYAAlQAAJUyAIBagDqAOsCASAA7ADtAAlAAAJvKAAJQAACVWgACbQAAEuxAAm4AABKtQALrYAACW7gAAutQAAJt2ACASAA8gDzAgEgAPQA9QALrQAACaegAAupgAAJceACASAA9gD3AAutgAAJu6AAC6OAABNWwAALpwAAE0BAAgEgAPoA+wIBIAEIAQkCASAA/AD9AgEgAQIBAwIBagD+AP8CASABAAEBAAnwAAEwTAAJ0AABMrwAC6CAABKXwAALpYAAEsnAAgEgAQQBBQALqoAACYRgAgEgAQYBBwAJ8AAAmYYACbwAAE0XAAnYAAE2tAIBIAEKAQsCAVgBEgETAgEgAQwBDQIBIAEOAQ8AC6WAABN2wAALooAAE0NAAgFuARABEQAJ0AAAlJYACUAAAlnYAAlQAAJqiAALpIAAEz7AAAunAAATUMACASABFgEXAgEgAT4BPwIBIAEYARkCASABKgErAgEgARoBGwIBIAEkASUCASABHAEdAgEgASABIQIBYgEeAR8AC6KAABLVQAAJQAACYUgACVAAAlo4AgEgASIBIwALoIAAEvdAAAm4AABOAwAJugAASuMCASABJgEnAgFIASgBKQALowAAEzZAAAujgAAS7sAACdgAATVUAAm8AABNWQIBIAEsAS0CAVgBNAE1AgEgAS4BLwIBSAEwATEAC6OAABLkwAALooAAEsrAAAmyAABNoQIBSAEyATMACUAAAm1IAAlAAAJuSAIBWAE2ATcCASABOAE5AAnQAAEzHAAJ8AABLUQCASABOgE7AAm6AABMuwIBIAE8AT0ACWQAAJvGAAlAAAJl+AAJUAACbYgCASABQAFBAgEgAUYBRwIBIAFCAUMCASABRAFFAAuvAAAJsGAAC6wAAAlY4AALqYAACWQgAAuuwAAJaSACASABSAFJAgEgAVABUQIBIAFKAUsAC6yAAAlXYAALpYAAEt5AAgEgAUwBTQAJ2AABKTQCASABTgFPAAlkAACaVgAJ0AABKQwAC6mAAAll4AALqQAACVzgAgEgAVQBVQIBIAFkAWUCASABVgFXAgEgAV4BXwIBIAFYAVkAC7CgAATPEAIBSAFaAVsCAnIBXAFdAAmyAABN2QAJtAAATTsACUAAAmZoAAlQAAJviAIBIAFgAWEAC7egAAS5cAALqQAACYBgAgEgAWIBYwALpQAAE2NAAAuhgAATFMACASABZgFnAgEgAXIBcwIBIAFoAWkCASABbAFtAgHuAWoBawALrcAACVGgAAlQAAJumAAJUAACXrgAC6mAAAma4AIBWAFuAW8ACbQAAEpnAgEgAXABcQAJaAAAlwIACWgAAJaKAgEgAXQBdQALtOAABMqQAAuvQAAJiKAAC6xAAAls4AIBIAF4AXkCASABkgGTAgEgAXoBewIBIAGIAYkCASABfAF9AgEgAYIBgwALqQAACYZgAgFYAX4BfwIBIAGAAYEACdgAATfcAAnQAAEtNAAJaAAAm4YCASABhAGFAAuuwAAJkeACAUgBhgGHAAuigAATHsAACWgAAJp+AAnwAAE3zAIBSAGKAYsCASABjAGNAAumAAASmMAAC6QAABL8QAALrYAACXIgAgEgAY4BjwICdQGQAZEAC6EAABM9QAAJAAAJnmAACQAACYcgAgEgAZQBlQIBIAGgAaECASABlgGXAgEgAZ4BnwIBIAGYAZkCAUgBnAGdAAuhgAASwEACASABmgGbAAm6AABK1wAJ+AABMlwACbQAAEydAAm0AABMfwALrIAACXPgAAuuwAAJlWACASABogGjAgEgAaYBpwALrUAACX1gAgEgAaQBpQALo4AAEurAAAulAAAS5UACAUgBqAGpAgEgAaoBqwAJ2AABNmwACbwAAE3NAgEgAawBrQIBIAGwAbECASABrgGvAAmyAABMEQAJ0AABKqwACWgAAJmmAAnYAAEwHAAJsgAATcsCASABtAG1AgEgAc4BzwIBIAG2AbcCASABwgHDAgEgAbgBuQIBIAG6AbsAC61AAAnAoAALqkAACYHgAAuugAAJtyACASABvAG9AgEgAb4BvwIBIAHAAcEACbYAAE1TAAm0AABLoQAJvAAASpMACdgAATfkAgFIAcQBxQIBIAHIAckAC6MAABLiQAIBZgHGAccACVAAAnAIAAlQAAJeKAIBIAHKAcsACfQAAJwuAgJxAcwBzQALogAAErbAAAkAAAnD4AAJAAAJZmACASAB0AHRAgFYAdwB3QIBIAHSAdMCASAB1gHXAgJxAdQB1QALqgAACbzgAAlQAAJXuAAJQAACUogAC6zAAAmT4AIBIAHYAdkCASAB2gHbAAumgAATZcAACbgAAEvZAAn4AAExzAAJ9AAAmI4CASAB3gHfAgFYAeAB4QALogAAEvvAAAnQAAE01AAJ0AABKTwCASAB5AHlAgEgAgQCBQIBIAHmAecCASAB9AH1AgEgAegB6QIBIAHsAe0AC69AAAl3IAIBbgHqAesACfAAASmsAAnQAAE0vAALrkAACamgAgEgAe4B7wALpYAAEyTAAgEgAfAB8QIB9AHyAfMACboAAE4RAAkAAAnBIAAJAAAJVuACASAB9gH3AgEgAf4B/wIBIAH4AfkCASAB/AH9AgFYAfoB+wALo4AAEo9AAAloAACVAgAJ8AABOBwAC6QAABN1wAALpAAAEt7AAgEgAgACAQIBIAICAgMAC6QAABL4QAALo4AAExtAAAukgAATUsAAC6WAABLyQAIBIAIGAgcCASACCgILAgEgAggCCQALtMAABK8wAAuswAAJmKAAC6rAAAmMIAIBIAIMAg0AC7EAAASzcAIBIAIOAg8CAVgCEAIRAAnQAACaigALoYAAEvnAAgFYAhICEwAJtAAATZkACUAAAm2YAAlAAAJfKAIBIAIWAhcCASACLgIvAgEgAhgCGQIBIAIoAikCASACGgIbAgEgAiACIQIBIAIcAh0CASACHgIfAAuigAASrMAAC6WAABNBQAALoQAAEuZAAAuigAAS3MACASACIgIjAgEgAiQCJQAJ0AAAljIAC6CAABLxwAIBIAImAicAC6GAABNGQAAJ+AABM0QACbYAAExfAAu2gAAEx9ACASACKgIrAAuugAAJg6ACASACLAItAAukgAATCsAAC6cAABLVwAIBIAIwAjECASACOgI7AgEgAjICMwIBIAI0AjUAC6+AAAnDIAAJ1AAAltYCASACNgI3AAuqAAAJgSAAC6QAABMoQAIBZgI4AjkACVAAAmmYAAlQAAJWiAALsOAABNXwAgFIAjwCPQIBIAI+Aj8AC6WAABMSwAIBSAJAAkECAUgCQgJDAAlQAAJa2AAJUAACZxgACVAAAmroAAlAAAJjGAIBIAJGAkcCASACYAJhAgEgAkgCSQIBIAJMAk0CASACSgJLAAuwgAAE0dAAC60AAAme4AALq8AACYqgAgFYAk4CTwIBIAJSAlMAC6SAABMGQAICdAJQAlEACQAACXDgAAkAAAmLoAIBIAJUAlUCASACXgJfAgFIAlYCVwIBIAJaAlsCASACWAJZAAnwAAEsTAAJUAACZRgACUAAAlboAgEgAlwCXQAJvAAASz8ACfAAATTEAAloAACWYgALpYAAErFAAAunAAAS8sACASACYgJjAgEgAmwCbQIBIAJkAmUCASACZgJnAAuswAAJsiAAC6jAAAlwYAALrsAACX5gAgFIAmgCaQIBIAJqAmsACdgAATW0AAloAACV/gAJZAAAmiICASACbgJvAgFYAnICcwIB7gJwAnEAC69AAAmg4AAJUAACUfgACUAAAlioAgFIAnQCdQALpgAAE3tAAAlkAACZZgAJZAAAl6ICASACeAJ5AgEgAooCiwIBIAJ6AnsCASACgAKBAgEgAnwCfQIBSAJ+An8AC6+AAAl/IAALqwAACa8gAAuhAAATWcAAC6CAABMlQAIBIAKCAoMCASAChAKFAAusAAAJlKAAC6pAAAmxYAIBWAKGAocCASACiAKJAAn4AAEtvAAJ+AABLzQAC6KAABN6QAALpgAAEzBAAgEgAowCjQIBIAKWApcCASACjgKPAgEgApQClQALqEAACUugAgFIApACkQAJ+AABK0wCAVgCkgKTAAlQAAJdGAAJQAACZFgAC68AAAl4YAAJ1AAAmu4CAUgCmAKZAAu3IAAEuLACAWYCmgKbAAnQAACargAJQAACZNgACVAAAlI4AgEgAp4CnwIBIAK8Ar0CASACoAKhAgEgAq4CrwIBIAKiAqMAC7bgAASx8AIBIAKkAqUCAVgCrAKtAgEgAqYCpwIBWAKoAqkACboAAEqnAAnYAAEpJAIBWAKqAqsACdAAATLEAAkAAAmuoAAJAAAJiyAACbYAAErvAAm2AABMawIBIAKwArECAUgCuAK5AgFIArICswIBIAK0ArUACbwAAErfAAn4AAErJAIBIAK2ArcAC6YAABMmQAAJvAAATSMACbgAAEq9AgEgAroCuwALpwAAEqvAAAm8AABLYQAJugAATfsCASACvgK/AgEgAs4CzwIBIALAAsECASACxALFAAuvQAAJViACAWICwgLDAAnQAAEulAAJ8AABNYQCASACxgLHAgFIAsoCywIBIALIAskAC6GAABNEwAAJvAAATUkACbwAAEphAgHUAswCzQAJsgAASjkACQAACbjgAAkAAAmJoAALsEAABK5QAgFYAtAC0QIBIALSAtMCASAC1gLXAgEgAtQC1QAJtAAATGkACWgAAJiiAAnQAAEzvAAJuAAATK0ACbYAAE3FAgEgAtoC2wIBIALsAu0CASAC3ALdAgEgAuQC5QALtSAABKgwAgEgAt4C3wIBIALgAuECASAC4gLjAAuggAATIcAAC6OAABMSQAALpwAAEp7AAAnQAACW4gALs8AABKpQAgFIAuYC5wALpoAAEstAAgEgAugC6QIBWALqAusACbYAAEztAAlQAAJU2AAJUAACYagCASAC7gLvAgEgAwQDBQIBIALwAvECASAC+AL5AgEgAvIC8wIBIAL0AvUAC6aAABL1QAALoQAAEr1AAAuggAAS68ACAVgC9gL3AAlkAACYPgAJ0AABMdwCASAC+gL7AgEgAwADAQIBIAL8Av0CASAC/gL/AAm8AABK1QAJugAATHEACbYAAEynAAm0AABNhQALpwAAEqdAAgFuAwIDAwAJQAACbRgACUAAAmaoAAuy4AAEtlACAUgDBgMHAAumgAASssACAUgDCAMJAAnwAAEsFAAJZAAAl+4CASADDAMNAgEgAy4DLwIBIAMOAw8CASADGAMZAgEgAxADEQIBIAMUAxUAC67AAAmkIAIBIAMSAxMAC6KAABLCwAAJ8AAAmHoACfQAAJX2AgFYAxYDFwAJsgAATM8ACbQAAE23AgEgAxoDGwIBIAMgAyECAVgDHAMdAgEgAx4DHwAJ+AABOCwACfgAATHkAAuggAAS88AAC6YAABOHQAIBYgMiAyMCASADJAMlAAloAACWcgAJ0AABMtwCAWYDJgMnAgEgAygDKQAJQAACZwgACUAAAmz4AgEgAyoDKwAJtgAATX0ACWgAAJZKAgEgAywDLQAJQAACWBgACVAAAljYAgEgAzADMQIBIAM8Az0CAVgDMgMzAgOkQAM6AzsCASADNAM1AgEgAzYDNwAJugAATb8ACboAAEyRAgFIAzgDOQAJ+AABM/wACVAAAmm4AAlQAAJemAAJQAACVggACUAAAlvoAgEgAz4DPwALsCAABMZwAAuuQAAJsqACASADQANBAgEgA0IDQwALpIAAEplAAgFIA0QDRQAJ+AABNTwACUAAAl1oAAlAAAJfGAIBIANIA0kCASADXANdAgFYA0oDSwIBIANOA08AC63AAAmH4AIBIANMA00AC6aAABNYwAAJ8AAAmK4CASADUANRAgFYA1gDWQIBWANSA1MCAUgDVANVAAm6AABKQQAJ+AABKzQACbwAAEuzAgEgA1YDVwAJZAAAlNoACWgAAJvqAgEgA1oDWwALoQAAE4NAAAm4AABNGwAJtAAATesCASADXgNfAgEgA2YDZwIBWANgA2ECASADYgNjAAulAAATA0AAC6QAABMZQAALq4AACbSgAgFiA2QDZQAJaAAAmDYACWQAAJwmAgEgA2gDaQIBIANsA20AC69AAAmhYAIBIANqA2sAC6YAABNOQAALpYAAEudAAgEgA24DbwIBIANyA3MCASADcANxAAulgAATLUAACfgAATdUAAm8AABL/QIBIAN0A3UAC6YAABKWwAIBIAN2A3cCASADegN7AgEgA3gDeQAJ0AABLEQACUAAAloYAAlAAAJe+AAJ0AABOGwACfAAATb0AgEgA34DfwIBIAOOA48CASADgAOBAgFYA4oDiwIBIAOCA4MCAVgDiAOJAgFuA4QDhQIBIAOGA4cACWQAAJhuAAloAACW/gALpAAAEt1AAAuiAAASzUAAC6cAABKoQAALpQAAE2JAAgEgA4wDjQALqwAACaygAAnwAACWGgALooAAE1rAAAu5EAACW0gCASADkAORAgEgA5IDkwIBIAOWA5cAC67AAAlpYAIBIAOUA5UAC6GAABNrwAAJ8AAAl24CAnEDmAOZAgEgA5wDnQAJUAACVLgCASADmgObAAkAAAmcoAAJAAAJfSAAC6OAABN4QAAJ8AAAmCoCASADoAOhAgEgA8ADwQIBIAOiA6MCASADtgO3AgEgA6QDpQIBIAOuA68CASADpgOnAgFuA6wDrQALpQAAEtfAAgEgA6gDqQIBIAOqA6sACbwAAE2HAAnwAAE3vAAJ0AABNfwACWgAAJT+AAloAACcHgIBIAOwA7ECAWIDtAO1AgEgA7IDswALogAAE0lAAAnYAAEv1AAJuAAATSkACWgAAJm6AAnwAAE1pAIBIAO4A7kCAWoDvAO9AAuqQAAJguACASADugO7AAujgAAS+0AAC6UAABM3wAIBIAO+A78ACdgAATXEAAnQAAEpZAAJ0AABKOwCASADwgPDAgFqA84DzwIBIAPEA8UAC7SAAATcEAIBWAPGA8cCASADyAPJAAnYAAEsdAAJtAAATS0CASADygPLAgFIA8wDzQAJvAAASmkACbQAAEttAAnwAAE2rAAJaAAAlOYAC6MAABNDwAALo4AAEzbA9QI7Jg=="
	cells, err := DeserializeBocBase64(s)
	if err != nil {
		fmt.Println(err)
		t.Fail()
		return
	}
	x, err := SerializeBoc(cells[0], false, true, false, 0)
	if err != nil {
		fmt.Println(err)
		t.Fail()
		return
	}
	_, err = DeserializeBoc(x)
	if err != nil {
		fmt.Println(err)
		t.Fail()
		return
	}
}

type node struct {
	Type  int    `json:"type"`
	Level int    `json:"level"`
	Hash  string `json:"hash"`
	Refs  []node `json:"refs"`
}

func (n *node) compare(c *Cell, path []int) error {
	if int(c.CellType()) != n.Type {
		return fmt.Errorf("want cell type: %v, got %v, path = %v", n.Type, c.cellType, path)
	}
	if int(c.Level()) != n.Level {
		return fmt.Errorf("want level: %v, got %v, path = %v", n.Level, c.Level(), path)
	}
	h, err := c.HashString()
	if err != nil {
		return err
	}
	if n.Hash != h {
		return fmt.Errorf("want hash: %v, got %v, path = %v", n.Hash, h, path)
	}
	if len(n.Refs) != c.RefsSize() {
		return fmt.Errorf("want #refs: %v, got %v", len(n.Refs), c.RefsSize())
	}
	for i, ref := range n.Refs {
		if err := ref.compare(c.refs[i], append(path, i)); err != nil {
			return err
		}
	}
	return nil

}

func TestDeserializeBoc(t *testing.T) {
	testCases := []struct {
		name           string
		hexString      string
		resultFilename string
	}{
		{
			hexString:      "b5ee9c720102790100025c00030400010102030304000a0405060304000b2b2c2d0304000c5253540304006407080903040065131415030400661f2021030403e80a0b0c030403e90d0e0f030403ea1011120004271000042711000427120004271a0004271b0004271c000427240004272500042726030403f2161718030403f3191a1b030403f41c1d1e0004277400042775000427760004277e0004277f0004278000042788000427890004278a030403fc222324030403fd252627030403fe28292a000427d8000427d9000427da000427e2000427e3000427e4000427ec000427ed000427ee0304006e2e2f300304006f3a3b3c030400704647480304044c3132330304044d3435360304044e37383900042af800042af900042afa00042b0200042b0300042b0400042b0c00042b0d00042b0e030404563d3e3f030404574041420304045843444500042b5c00042b5d00042b5e00042b6600042b6700042b6800042b7000042b7100042b7203040460494a4b030404614c4d4e030404624f505100042bc000042bc100042bc200042bca00042bcb00042bcc00042bd400042bd500042bd603040078555657030400796162630304007a6d6e6f030404b058595a030404b15b5c5d030404b25e5f6000042ee000042ee100042ee200042eea00042eeb00042eec00042ef400042ef500042ef6030404ba646566030404bb676869030404bc6a6b6c00042f4400042f4500042f4600042f4e00042f4f00042f5000042f5800042f5900042f5a030404c4707172030404c5737475030404c676777800042fa800042fa900042faa00042fb200042fb300042fb400042fbc00042fbd00042fbe",
			resultFilename: "testdata/deserialize_1.json",
		},
	}
	for _, tc := range testCases {
		t.Run(tc.name, func(t *testing.T) {
			bocBytes, err := hex.DecodeString(tc.hexString)
			if err != nil {
				t.Errorf("hex.DecodeString() failed: %v", err)
			}
			cells, err := DeserializeBoc(bocBytes)
			if err != nil {
				t.Errorf("hex.DecodeString() failed: %v", err)
			}
			if len(cells) != 1 {
				t.Errorf("hex.DecodeString() failed")
			}
			content, err := ioutil.ReadFile(tc.resultFilename)
			if err != nil {
				t.Errorf("ReadFile() failed: %v", err)
			}
			var node node
			err = json.Unmarshal(content, &node)
			if err != nil {
				t.Errorf("json.Unmarshal() failed: %v", err)
			}
			err = node.compare(cells[0], nil)
			if err != nil {
				t.Errorf("test failed: %v", err)
			}
		})
	}

}

func visit(x *Cell) ([]int, error) {
	x.ResetCounters()
	index, err := x.ReadInt(64)
	if err != nil {
		return nil, err
	}
	var results = []int{int(index)}
	for _, ref := range x.Refs() {
		indexes, err := visit(ref)
		if err != nil {
			return nil, err
		}
		results = append(results, indexes...)
	}
	return results, nil
}

func TestDecodeTreeWithDuplicates(t *testing.T) {
	testCases := []struct {
		encodedBoc      string
		expectedIndexes []int
		expectedRoots   int
	}{
		{
			// vm::CellBuilder()
			//    .store_long(0)
			//    .store_ref(vm::CellBuilder().store_long(25).finalize())
			//    .store_ref(vm::CellBuilder().store_long(26).finalize())
			//    .finalize();
			encodedBoc:      "b5ee9c7201010301002000021000000000000000000102001000000000000000190010000000000000001a",
			expectedIndexes: []int{0, 25, 26},
			expectedRoots:   1,
		},
		{
			//  for (int i = 0;i<50;i++) {
			//    roots.emplace_back(vm::CellBuilder()
			//                           .store_long(i)
			//                           .store_ref(vm::CellBuilder().store_long(25).finalize())
			//                           .store_ref(vm::CellBuilder().store_long(26).finalize())
			//                           .finalize());
			//  }
			encodedBoc:      "b5ee9c720102343200026c31302f2e2d2c2b2a292827262524232221201f1e1d1c1b1a191817161514131211100f0e0d0c0b0a090807060504030201000210000000000000003132330210000000000000003032330210000000000000002f32330210000000000000002e32330210000000000000002d32330210000000000000002c32330210000000000000002b32330210000000000000002a32330210000000000000002932330210000000000000002832330210000000000000002732330210000000000000002632330210000000000000002532330210000000000000002432330210000000000000002332330210000000000000002232330210000000000000002132330210000000000000002032330210000000000000001f32330210000000000000001e32330210000000000000001d32330210000000000000001c32330210000000000000001b32330210000000000000001a32330210000000000000001932330210000000000000001832330210000000000000001732330210000000000000001632330210000000000000001532330210000000000000001432330210000000000000001332330210000000000000001232330210000000000000001132330210000000000000001032330210000000000000000f32330210000000000000000e32330210000000000000000d32330210000000000000000c32330210000000000000000b32330210000000000000000a3233021000000000000000093233021000000000000000083233021000000000000000073233021000000000000000063233021000000000000000053233021000000000000000043233021000000000000000033233021000000000000000023233021000000000000000013233021000000000000000003233001000000000000000190010000000000000001a",
			expectedIndexes: []int{0, 25, 26, 1, 25, 26, 2, 25, 26, 3, 25, 26, 4, 25, 26, 5, 25, 26, 6, 25, 26, 7, 25, 26, 8, 25, 26, 9, 25, 26, 10, 25, 26, 11, 25, 26, 12, 25, 26, 13, 25, 26, 14, 25, 26, 15, 25, 26, 16, 25, 26, 17, 25, 26, 18, 25, 26, 19, 25, 26, 20, 25, 26, 21, 25, 26, 22, 25, 26, 23, 25, 26, 24, 25, 26, 25, 25, 26, 26, 25, 26, 27, 25, 26, 28, 25, 26, 29, 25, 26, 30, 25, 26, 31, 25, 26, 32, 25, 26, 33, 25, 26, 34, 25, 26, 35, 25, 26, 36, 25, 26, 37, 25, 26, 38, 25, 26, 39, 25, 26, 40, 25, 26, 41, 25, 26, 42, 25, 26, 43, 25, 26, 44, 25, 26, 45, 25, 26, 46, 25, 26, 47, 25, 26, 48, 25, 26, 49, 25, 26},
			expectedRoots:   50,
		},
		{
			//  for (int i = 0;i<50;i++) {
			//    roots.emplace_back(vm::CellBuilder()
			//                           .store_long(0)
			//                           .store_ref(vm::CellBuilder().store_long(25).finalize())
			//                           .store_ref(vm::CellBuilder().store_long(26).finalize())
			//                           .finalize());
			//  }
			encodedBoc:      "b5ee9c720101033200200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000021000000000000000000102001000000000000000190010000000000000001a",
			expectedIndexes: []int{0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26, 0, 25, 26},
			expectedRoots:   50,
		},
		{
			//   for (int i = 0;i<50;i++) {
			//    roots.emplace_back(vm::CellBuilder()
			//                           .store_long(i)
			//                           .store_ref(vm::CellBuilder().store_long(i*100+1).finalize())
			//                           .store_ref(vm::CellBuilder().store_long(i*100+2).finalize())
			//                           .finalize());
			//  }
			encodedBoc:      "b5ee9c720102963200064031302f2e2d2c2b2a292827262524232221201f1e1d1c1b1a191817161514131211100f0e0d0c0b0a090807060504030201000210000000000000003132330210000000000000003034350210000000000000002f36370210000000000000002e38390210000000000000002d3a3b0210000000000000002c3c3d0210000000000000002b3e3f0210000000000000002a4041021000000000000000294243021000000000000000284445021000000000000000274647021000000000000000264849021000000000000000254a4b021000000000000000244c4d021000000000000000234e4f0210000000000000002250510210000000000000002152530210000000000000002054550210000000000000001f56570210000000000000001e58590210000000000000001d5a5b0210000000000000001c5c5d0210000000000000001b5e5f0210000000000000001a6061021000000000000000196263021000000000000000186465021000000000000000176667021000000000000000166869021000000000000000156a6b021000000000000000146c6d021000000000000000136e6f0210000000000000001270710210000000000000001172730210000000000000001074750210000000000000000f76770210000000000000000e78790210000000000000000d7a7b0210000000000000000c7c7d0210000000000000000b7e7f0210000000000000000a8081021000000000000000098283021000000000000000088485021000000000000000078687021000000000000000068889021000000000000000058a8b021000000000000000048c8d021000000000000000038e8f0210000000000000000290910210000000000000000192930210000000000000000094950010000000000000132500100000000000001326001000000000000012c1001000000000000012c20010000000000000125d0010000000000000125e001000000000000011f9001000000000000011fa00100000000000001195001000000000000011960010000000000000113100100000000000001132001000000000000010cd001000000000000010ce001000000000000010690010000000000000106a001000000000000010050010000000000000100600100000000000000fa100100000000000000fa200100000000000000f3d00100000000000000f3e00100000000000000ed900100000000000000eda00100000000000000e7500100000000000000e7600100000000000000e1100100000000000000e1200100000000000000dad00100000000000000dae00100000000000000d4900100000000000000d4a00100000000000000ce500100000000000000ce600100000000000000c8100100000000000000c8200100000000000000c1d00100000000000000c1e00100000000000000bb900100000000000000bba00100000000000000b5500100000000000000b5600100000000000000af100100000000000000af200100000000000000a8d00100000000000000a8e00100000000000000a2900100000000000000a2a001000000000000009c5001000000000000009c60010000000000000096100100000000000000962001000000000000008fd001000000000000008fe001000000000000008990010000000000000089a0010000000000000083500100000000000000836001000000000000007d1001000000000000007d20010000000000000076d0010000000000000076e001000000000000007090010000000000000070a001000000000000006a5001000000000000006a60010000000000000064100100000000000000642001000000000000005dd001000000000000005de001000000000000005790010000000000000057a0010000000000000051500100000000000000516001000000000000004b1001000000000000004b20010000000000000044d0010000000000000044e001000000000000003e9001000000000000003ea00100000000000000385001000000000000003860010000000000000032100100000000000000322001000000000000002bd001000000000000002be001000000000000002590010000000000000025a001000000000000001f5001000000000000001f600100000000000000191001000000000000001920010000000000000012d0010000000000000012e001000000000000000c9001000000000000000ca00100000000000000065001000000000000000660010000000000000000100100000000000000002",
			expectedIndexes: []int{0, 1, 2, 1, 101, 102, 2, 201, 202, 3, 301, 302, 4, 401, 402, 5, 501, 502, 6, 601, 602, 7, 701, 702, 8, 801, 802, 9, 901, 902, 10, 1001, 1002, 11, 1101, 1102, 12, 1201, 1202, 13, 1301, 1302, 14, 1401, 1402, 15, 1501, 1502, 16, 1601, 1602, 17, 1701, 1702, 18, 1801, 1802, 19, 1901, 1902, 20, 2001, 2002, 21, 2101, 2102, 22, 2201, 2202, 23, 2301, 2302, 24, 2401, 2402, 25, 2501, 2502, 26, 2601, 2602, 27, 2701, 2702, 28, 2801, 2802, 29, 2901, 2902, 30, 3001, 3002, 31, 3101, 3102, 32, 3201, 3202, 33, 3301, 3302, 34, 3401, 3402, 35, 3501, 3502, 36, 3601, 3602, 37, 3701, 3702, 38, 3801, 3802, 39, 3901, 3902, 40, 4001, 4002, 41, 4101, 4102, 42, 4201, 4202, 43, 4301, 4302, 44, 4401, 4402, 45, 4501, 4502, 46, 4601, 4602, 47, 4701, 4702, 48, 4801, 4802, 49, 4901, 4902},
			expectedRoots:   50,
		},
	}
	for _, tc := range testCases {
		bocBytes, err := hex.DecodeString(tc.encodedBoc)
		if err != nil {
			t.Errorf("failed to decode boc: %v", err)
		}
		cells, err := DeserializeBoc(bocBytes)
		if err != nil {
			t.Errorf("failed to deserialize boc: %v", err)
		}
		if len(cells) != tc.expectedRoots {
			t.Errorf("len(DeserializeBoc()) = %d; want %d", len(cells), tc.expectedRoots)
		}
		var allIndexes []int
		for _, cell := range cells {
			indexes, err := visit(cell)
			if err != nil {
				t.Errorf("visit() failed %v", err)
			}
			allIndexes = append(allIndexes, indexes...)
		}

		if !reflect.DeepEqual(tc.expectedIndexes, allIndexes) {
			t.Errorf("got indexes = %d; want %d", allIndexes, tc.expectedIndexes)
		}
	}
}

const complexBoc = "b5ee9c7202020d52000a00009fc4000900080007000600050004000300020001000004100000000000000bfd000a000b000c000d04100000000000000aa8015e015f016001610410000000000000095302b202b302b402b5041000000000000007fe0406040704080409041000000000000006a9055a055b055c055d0410000000000000055406ae06af06b006b1041000000000000003ff0802080308040805041000000000000002aa0956095709580959041000000000000001550aaa0aab0aac0aad041000000000000000000bfe0bff0c000c0104100000000000000bfe000e000f0010001104100000000000000c53001200130014001504100000000000000ca8001600170018001904100000000000000cfd001a001b001c001d04100000000000000bff001e001f0020002104100000000000000c14003200330034003504100000000000000c29004600470048004904100000000000000c3e005a005b005c005d04100000000000000c54006e006f0070007104100000000000000c69008200830084008504100000000000000c7e009600970098009904100000000000000c9300aa00ab00ac00ad04100000000000000ca900be00bf00c000c104100000000000000cbe00d200d300d400d504100000000000000cd300e600e700e800e904100000000000000ce800fa00fb00fc00fd04100000000000000cfe010e010f0110011104100000000000000d13012201230124012504100000000000000d28013601370138013904100000000000000d3d014a014b014c014d04100000000000000c00002200230024002504100000000000000c05002600270028002904100000000000000c0a002a002b002c002d04100000000000000c0f002e002f0030003100100000000000000c0100100000000000000c0200100000000000000c0300100000000000000c0400100000000000000c0600100000000000000c0700100000000000000c0800100000000000000c0900100000000000000c0b00100000000000000c0c00100000000000000c0d00100000000000000c0e00100000000000000c1000100000000000000c1100100000000000000c1200100000000000000c1304100000000000000c15003600370038003904100000000000000c1a003a003b003c003d04100000000000000c1f003e003f0040004104100000000000000c24004200430044004500100000000000000c1600100000000000000c1700100000000000000c1800100000000000000c1900100000000000000c1b00100000000000000c1c00100000000000000c1d00100000000000000c1e00100000000000000c2000100000000000000c2100100000000000000c2200100000000000000c2300100000000000000c2500100000000000000c2600100000000000000c2700100000000000000c2804100000000000000c2a004a004b004c004d04100000000000000c2f004e004f0050005104100000000000000c34005200530054005504100000000000000c39005600570058005900100000000000000c2b00100000000000000c2c00100000000000000c2d00100000000000000c2e00100000000000000c3000100000000000000c3100100000000000000c3200100000000000000c3300100000000000000c3500100000000000000c3600100000000000000c3700100000000000000c3800100000000000000c3a00100000000000000c3b00100000000000000c3c00100000000000000c3d04100000000000000c3f005e005f0060006104100000000000000c44006200630064006504100000000000000c49006600670068006904100000000000000c4e006a006b006c006d00100000000000000c4000100000000000000c4100100000000000000c4200100000000000000c4300100000000000000c4500100000000000000c4600100000000000000c4700100000000000000c4800100000000000000c4a00100000000000000c4b00100000000000000c4c00100000000000000c4d00100000000000000c4f00100000000000000c5000100000000000000c5100100000000000000c5204100000000000000c55007200730074007504100000000000000c5a007600770078007904100000000000000c5f007a007b007c007d04100000000000000c64007e007f0080008100100000000000000c5600100000000000000c5700100000000000000c5800100000000000000c5900100000000000000c5b00100000000000000c5c00100000000000000c5d00100000000000000c5e00100000000000000c6000100000000000000c6100100000000000000c6200100000000000000c6300100000000000000c6500100000000000000c6600100000000000000c6700100000000000000c6804100000000000000c6a008600870088008904100000000000000c6f008a008b008c008d04100000000000000c74008e008f0090009104100000000000000c79009200930094009500100000000000000c6b00100000000000000c6c00100000000000000c6d00100000000000000c6e00100000000000000c7000100000000000000c7100100000000000000c7200100000000000000c7300100000000000000c7500100000000000000c7600100000000000000c7700100000000000000c7800100000000000000c7a00100000000000000c7b00100000000000000c7c00100000000000000c7d04100000000000000c7f009a009b009c009d04100000000000000c84009e009f00a000a104100000000000000c8900a200a300a400a504100000000000000c8e00a600a700a800a900100000000000000c8000100000000000000c8100100000000000000c8200100000000000000c8300100000000000000c8500100000000000000c8600100000000000000c8700100000000000000c8800100000000000000c8a00100000000000000c8b00100000000000000c8c00100000000000000c8d00100000000000000c8f00100000000000000c9000100000000000000c9100100000000000000c9204100000000000000c9400ae00af00b000b104100000000000000c9900b200b300b400b504100000000000000c9e00b600b700b800b904100000000000000ca300ba00bb00bc00bd00100000000000000c9500100000000000000c9600100000000000000c9700100000000000000c9800100000000000000c9a00100000000000000c9b00100000000000000c9c00100000000000000c9d00100000000000000c9f00100000000000000ca000100000000000000ca100100000000000000ca200100000000000000ca400100000000000000ca500100000000000000ca600100000000000000ca704100000000000000caa00c200c300c400c504100000000000000caf00c600c700c800c904100000000000000cb400ca00cb00cc00cd04100000000000000cb900ce00cf00d000d100100000000000000cab00100000000000000cac00100000000000000cad00100000000000000cae00100000000000000cb000100000000000000cb100100000000000000cb200100000000000000cb300100000000000000cb500100000000000000cb600100000000000000cb700100000000000000cb800100000000000000cba00100000000000000cbb00100000000000000cbc00100000000000000cbd04100000000000000cbf00d600d700d800d904100000000000000cc400da00db00dc00dd04100000000000000cc900de00df00e000e104100000000000000cce00e200e300e400e500100000000000000cc000100000000000000cc100100000000000000cc200100000000000000cc300100000000000000cc500100000000000000cc600100000000000000cc700100000000000000cc800100000000000000cca00100000000000000ccb00100000000000000ccc00100000000000000ccd00100000000000000ccf00100000000000000cd000100000000000000cd100100000000000000cd204100000000000000cd400ea00eb00ec00ed04100000000000000cd900ee00ef00f000f104100000000000000cde00f200f300f400f504100000000000000ce300f600f700f800f900100000000000000cd500100000000000000cd600100000000000000cd700100000000000000cd800100000000000000cda00100000000000000cdb00100000000000000cdc00100000000000000cdd00100000000000000cdf00100000000000000ce000100000000000000ce100100000000000000ce200100000000000000ce400100000000000000ce500100000000000000ce600100000000000000ce704100000000000000ce900fe00ff0100010104100000000000000cee010201030104010504100000000000000cf3010601070108010904100000000000000cf8010a010b010c010d00100000000000000cea00100000000000000ceb00100000000000000cec00100000000000000ced00100000000000000cef00100000000000000cf000100000000000000cf100100000000000000cf200100000000000000cf400100000000000000cf500100000000000000cf600100000000000000cf700100000000000000cf900100000000000000cfa00100000000000000cfb00100000000000000cfc04100000000000000cff011201130114011504100000000000000d04011601170118011904100000000000000d09011a011b011c011d04100000000000000d0e011e011f0120012100100000000000000d0000100000000000000d0100100000000000000d0200100000000000000d0300100000000000000d0500100000000000000d0600100000000000000d0700100000000000000d0800100000000000000d0a00100000000000000d0b00100000000000000d0c00100000000000000d0d00100000000000000d0f00100000000000000d1000100000000000000d1100100000000000000d1204100000000000000d14012601270128012904100000000000000d19012a012b012c012d04100000000000000d1e012e012f0130013104100000000000000d23013201330134013500100000000000000d1500100000000000000d1600100000000000000d1700100000000000000d1800100000000000000d1a00100000000000000d1b00100000000000000d1c00100000000000000d1d00100000000000000d1f00100000000000000d2000100000000000000d2100100000000000000d2200100000000000000d2400100000000000000d2500100000000000000d2600100000000000000d2704100000000000000d29013a013b013c013d04100000000000000d2e013e013f0140014104100000000000000d33014201430144014504100000000000000d38014601470148014900100000000000000d2a00100000000000000d2b00100000000000000d2c00100000000000000d2d00100000000000000d2f00100000000000000d3000100000000000000d3100100000000000000d3200100000000000000d3400100000000000000d3500100000000000000d3600100000000000000d3700100000000000000d3900100000000000000d3a00100000000000000d3b00100000000000000d3c04100000000000000d3e014e014f0150015104100000000000000d43015201530154015504100000000000000d48015601570158015904100000000000000d4d015a015b015c015d00100000000000000d3f00100000000000000d4000100000000000000d4100100000000000000d4200100000000000000d4400100000000000000d4500100000000000000d4600100000000000000d4700100000000000000d4900100000000000000d4a00100000000000000d4b00100000000000000d4c00100000000000000d4e00100000000000000d4f00100000000000000d5000100000000000000d5104100000000000000aa9016201630164016504100000000000000afe016601670168016904100000000000000b53016a016b016c016d04100000000000000ba8016e016f0170017104100000000000000aaa017201730174017504100000000000000abf018601870188018904100000000000000ad4019a019b019c019d04100000000000000ae901ae01af01b001b104100000000000000aff01c201c301c401c504100000000000000b1401d601d701d801d904100000000000000b2901ea01eb01ec01ed04100000000000000b3e01fe01ff0200020104100000000000000b54021202130214021504100000000000000b69022602270228022904100000000000000b7e023a023b023c023d04100000000000000b93024e024f0250025104100000000000000ba9026202630264026504100000000000000bbe027602770278027904100000000000000bd3028a028b028c028d04100000000000000be8029e029f02a002a104100000000000000aab017601770178017904100000000000000ab0017a017b017c017d04100000000000000ab5017e017f0180018104100000000000000aba018201830184018500100000000000000aac00100000000000000aad00100000000000000aae00100000000000000aaf00100000000000000ab100100000000000000ab200100000000000000ab300100000000000000ab400100000000000000ab600100000000000000ab700100000000000000ab800100000000000000ab900100000000000000abb00100000000000000abc00100000000000000abd00100000000000000abe04100000000000000ac0018a018b018c018d04100000000000000ac5018e018f0190019104100000000000000aca019201930194019504100000000000000acf019601970198019900100000000000000ac100100000000000000ac200100000000000000ac300100000000000000ac400100000000000000ac600100000000000000ac700100000000000000ac800100000000000000ac900100000000000000acb00100000000000000acc00100000000000000acd00100000000000000ace00100000000000000ad000100000000000000ad100100000000000000ad200100000000000000ad304100000000000000ad5019e019f01a001a104100000000000000ada01a201a301a401a504100000000000000adf01a601a701a801a904100000000000000ae401aa01ab01ac01ad00100000000000000ad600100000000000000ad700100000000000000ad800100000000000000ad900100000000000000adb00100000000000000adc00100000000000000add00100000000000000ade00100000000000000ae000100000000000000ae100100000000000000ae200100000000000000ae300100000000000000ae500100000000000000ae600100000000000000ae700100000000000000ae804100000000000000aea01b201b301b401b504100000000000000aef01b601b701b801b904100000000000000af401ba01bb01bc01bd04100000000000000af901be01bf01c001c100100000000000000aeb00100000000000000aec00100000000000000aed00100000000000000aee00100000000000000af000100000000000000af100100000000000000af200100000000000000af300100000000000000af500100000000000000af600100000000000000af700100000000000000af800100000000000000afa00100000000000000afb00100000000000000afc00100000000000000afd04100000000000000b0001c601c701c801c904100000000000000b0501ca01cb01cc01cd04100000000000000b0a01ce01cf01d001d104100000000000000b0f01d201d301d401d500100000000000000b0100100000000000000b0200100000000000000b0300100000000000000b0400100000000000000b0600100000000000000b0700100000000000000b0800100000000000000b0900100000000000000b0b00100000000000000b0c00100000000000000b0d00100000000000000b0e00100000000000000b1000100000000000000b1100100000000000000b1200100000000000000b1304100000000000000b1501da01db01dc01dd04100000000000000b1a01de01df01e001e104100000000000000b1f01e201e301e401e504100000000000000b2401e601e701e801e900100000000000000b1600100000000000000b1700100000000000000b1800100000000000000b1900100000000000000b1b00100000000000000b1c00100000000000000b1d00100000000000000b1e00100000000000000b2000100000000000000b2100100000000000000b2200100000000000000b2300100000000000000b2500100000000000000b2600100000000000000b2700100000000000000b2804100000000000000b2a01ee01ef01f001f104100000000000000b2f01f201f301f401f504100000000000000b3401f601f701f801f904100000000000000b3901fa01fb01fc01fd00100000000000000b2b00100000000000000b2c00100000000000000b2d00100000000000000b2e00100000000000000b3000100000000000000b3100100000000000000b3200100000000000000b3300100000000000000b3500100000000000000b3600100000000000000b3700100000000000000b3800100000000000000b3a00100000000000000b3b00100000000000000b3c00100000000000000b3d04100000000000000b3f020202030204020504100000000000000b44020602070208020904100000000000000b49020a020b020c020d04100000000000000b4e020e020f0210021100100000000000000b4000100000000000000b4100100000000000000b4200100000000000000b4300100000000000000b4500100000000000000b4600100000000000000b4700100000000000000b4800100000000000000b4a00100000000000000b4b00100000000000000b4c00100000000000000b4d00100000000000000b4f00100000000000000b5000100000000000000b5100100000000000000b5204100000000000000b55021602170218021904100000000000000b5a021a021b021c021d04100000000000000b5f021e021f0220022104100000000000000b64022202230224022500100000000000000b5600100000000000000b5700100000000000000b5800100000000000000b5900100000000000000b5b00100000000000000b5c00100000000000000b5d00100000000000000b5e00100000000000000b6000100000000000000b6100100000000000000b6200100000000000000b6300100000000000000b6500100000000000000b6600100000000000000b6700100000000000000b6804100000000000000b6a022a022b022c022d04100000000000000b6f022e022f0230023104100000000000000b74023202330234023504100000000000000b79023602370238023900100000000000000b6b00100000000000000b6c00100000000000000b6d00100000000000000b6e00100000000000000b7000100000000000000b7100100000000000000b7200100000000000000b7300100000000000000b7500100000000000000b7600100000000000000b7700100000000000000b7800100000000000000b7a00100000000000000b7b00100000000000000b7c00100000000000000b7d04100000000000000b7f023e023f0240024104100000000000000b84024202430244024504100000000000000b89024602470248024904100000000000000b8e024a024b024c024d00100000000000000b8000100000000000000b8100100000000000000b8200100000000000000b8300100000000000000b8500100000000000000b8600100000000000000b8700100000000000000b8800100000000000000b8a00100000000000000b8b00100000000000000b8c00100000000000000b8d00100000000000000b8f00100000000000000b9000100000000000000b9100100000000000000b9204100000000000000b94025202530254025504100000000000000b99025602570258025904100000000000000b9e025a025b025c025d04100000000000000ba3025e025f0260026100100000000000000b9500100000000000000b9600100000000000000b9700100000000000000b9800100000000000000b9a00100000000000000b9b00100000000000000b9c00100000000000000b9d00100000000000000b9f00100000000000000ba000100000000000000ba100100000000000000ba200100000000000000ba400100000000000000ba500100000000000000ba600100000000000000ba704100000000000000baa026602670268026904100000000000000baf026a026b026c026d04100000000000000bb4026e026f0270027104100000000000000bb9027202730274027500100000000000000bab00100000000000000bac00100000000000000bad00100000000000000bae00100000000000000bb000100000000000000bb100100000000000000bb200100000000000000bb300100000000000000bb500100000000000000bb600100000000000000bb700100000000000000bb800100000000000000bba00100000000000000bbb00100000000000000bbc00100000000000000bbd04100000000000000bbf027a027b027c027d04100000000000000bc4027e027f0280028104100000000000000bc9028202830284028504100000000000000bce028602870288028900100000000000000bc000100000000000000bc100100000000000000bc200100000000000000bc300100000000000000bc500100000000000000bc600100000000000000bc700100000000000000bc800100000000000000bca00100000000000000bcb00100000000000000bcc00100000000000000bcd00100000000000000bcf00100000000000000bd000100000000000000bd100100000000000000bd204100000000000000bd4028e028f0290029104100000000000000bd9029202930294029504100000000000000bde029602970298029904100000000000000be3029a029b029c029d00100000000000000bd500100000000000000bd600100000000000000bd700100000000000000bd800100000000000000bda00100000000000000bdb00100000000000000bdc00100000000000000bdd00100000000000000bdf00100000000000000be000100000000000000be100100000000000000be200100000000000000be400100000000000000be500100000000000000be600100000000000000be704100000000000000be902a202a302a402a504100000000000000bee02a602a702a802a904100000000000000bf302aa02ab02ac02ad04100000000000000bf802ae02af02b002b100100000000000000bea00100000000000000beb00100000000000000bec00100000000000000bed00100000000000000bef00100000000000000bf000100000000000000bf100100000000000000bf200100000000000000bf400100000000000000bf500100000000000000bf600100000000000000bf700100000000000000bf900100000000000000bfa00100000000000000bfb00100000000000000bfc0410000000000000095402b602b702b802b9041000000000000009a902ba02bb02bc02bd041000000000000009fe02be02bf02c002c104100000000000000a5302c202c302c402c50410000000000000095502c602c702c802c90410000000000000096a02da02db02dc02dd0410000000000000097f02ee02ef02f002f1041000000000000009940302030303040305041000000000000009aa0316031703180319041000000000000009bf032a032b032c032d041000000000000009d4033e033f03400341041000000000000009e90352035303540355041000000000000009ff036603670368036904100000000000000a14037a037b037c037d04100000000000000a29038e038f0390039104100000000000000a3e03a203a303a403a504100000000000000a5403b603b703b803b904100000000000000a6903ca03cb03cc03cd04100000000000000a7e03de03df03e003e104100000000000000a9303f203f303f403f50410000000000000095602ca02cb02cc02cd0410000000000000095b02ce02cf02d002d10410000000000000096002d202d302d402d50410000000000000096502d602d702d802d90010000000000000095700100000000000000958001000000000000009590010000000000000095a0010000000000000095c0010000000000000095d0010000000000000095e0010000000000000095f00100000000000000961001000000000000009620010000000000000096300100000000000000964001000000000000009660010000000000000096700100000000000000968001000000000000009690410000000000000096b02de02df02e002e10410000000000000097002e202e302e402e50410000000000000097502e602e702e802e90410000000000000097a02ea02eb02ec02ed0010000000000000096c0010000000000000096d0010000000000000096e0010000000000000096f00100000000000000971001000000000000009720010000000000000097300100000000000000974001000000000000009760010000000000000097700100000000000000978001000000000000009790010000000000000097b0010000000000000097c0010000000000000097d0010000000000000097e0410000000000000098002f202f302f402f50410000000000000098502f602f702f802f90410000000000000098a02fa02fb02fc02fd0410000000000000098f02fe02ff0300030100100000000000000981001000000000000009820010000000000000098300100000000000000984001000000000000009860010000000000000098700100000000000000988001000000000000009890010000000000000098b0010000000000000098c0010000000000000098d0010000000000000098e001000000000000009900010000000000000099100100000000000000992001000000000000009930410000000000000099503060307030803090410000000000000099a030a030b030c030d0410000000000000099f030e030f03100311041000000000000009a40312031303140315001000000000000009960010000000000000099700100000000000000998001000000000000009990010000000000000099b0010000000000000099c0010000000000000099d0010000000000000099e001000000000000009a0001000000000000009a1001000000000000009a2001000000000000009a3001000000000000009a5001000000000000009a6001000000000000009a7001000000000000009a8041000000000000009ab031a031b031c031d041000000000000009b0031e031f03200321041000000000000009b50322032303240325041000000000000009ba0326032703280329001000000000000009ac001000000000000009ad001000000000000009ae001000000000000009af001000000000000009b1001000000000000009b2001000000000000009b3001000000000000009b4001000000000000009b6001000000000000009b7001000000000000009b8001000000000000009b9001000000000000009bb001000000000000009bc001000000000000009bd001000000000000009be041000000000000009c0032e032f03300331041000000000000009c50332033303340335041000000000000009ca0336033703380339041000000000000009cf033a033b033c033d001000000000000009c1001000000000000009c2001000000000000009c3001000000000000009c4001000000000000009c6001000000000000009c7001000000000000009c8001000000000000009c9001000000000000009cb001000000000000009cc001000000000000009cd001000000000000009ce001000000000000009d0001000000000000009d1001000000000000009d2001000000000000009d3041000000000000009d50342034303440345041000000000000009da0346034703480349041000000000000009df034a034b034c034d041000000000000009e4034e034f03500351001000000000000009d6001000000000000009d7001000000000000009d8001000000000000009d9001000000000000009db001000000000000009dc001000000000000009dd001000000000000009de001000000000000009e0001000000000000009e1001000000000000009e2001000000000000009e3001000000000000009e5001000000000000009e6001000000000000009e7001000000000000009e8041000000000000009ea0356035703580359041000000000000009ef035a035b035c035d041000000000000009f4035e035f03600361041000000000000009f90362036303640365001000000000000009eb001000000000000009ec001000000000000009ed001000000000000009ee001000000000000009f0001000000000000009f1001000000000000009f2001000000000000009f3001000000000000009f5001000000000000009f6001000000000000009f7001000000000000009f8001000000000000009fa001000000000000009fb001000000000000009fc001000000000000009fd04100000000000000a00036a036b036c036d04100000000000000a05036e036f0370037104100000000000000a0a037203730374037504100000000000000a0f037603770378037900100000000000000a0100100000000000000a0200100000000000000a0300100000000000000a0400100000000000000a0600100000000000000a0700100000000000000a0800100000000000000a0900100000000000000a0b00100000000000000a0c00100000000000000a0d00100000000000000a0e00100000000000000a1000100000000000000a1100100000000000000a1200100000000000000a1304100000000000000a15037e037f0380038104100000000000000a1a038203830384038504100000000000000a1f038603870388038904100000000000000a24038a038b038c038d00100000000000000a1600100000000000000a1700100000000000000a1800100000000000000a1900100000000000000a1b00100000000000000a1c00100000000000000a1d00100000000000000a1e00100000000000000a2000100000000000000a2100100000000000000a2200100000000000000a2300100000000000000a2500100000000000000a2600100000000000000a2700100000000000000a2804100000000000000a2a039203930394039504100000000000000a2f039603970398039904100000000000000a34039a039b039c039d04100000000000000a39039e039f03a003a100100000000000000a2b00100000000000000a2c00100000000000000a2d00100000000000000a2e00100000000000000a3000100000000000000a3100100000000000000a3200100000000000000a3300100000000000000a3500100000000000000a3600100000000000000a3700100000000000000a3800100000000000000a3a00100000000000000a3b00100000000000000a3c00100000000000000a3d04100000000000000a3f03a603a703a803a904100000000000000a4403aa03ab03ac03ad04100000000000000a4903ae03af03b003b104100000000000000a4e03b203b303b403b500100000000000000a4000100000000000000a4100100000000000000a4200100000000000000a4300100000000000000a4500100000000000000a4600100000000000000a4700100000000000000a4800100000000000000a4a00100000000000000a4b00100000000000000a4c00100000000000000a4d00100000000000000a4f00100000000000000a5000100000000000000a5100100000000000000a5204100000000000000a5503ba03bb03bc03bd04100000000000000a5a03be03bf03c003c104100000000000000a5f03c203c303c403c504100000000000000a6403c603c703c803c900100000000000000a5600100000000000000a5700100000000000000a5800100000000000000a5900100000000000000a5b00100000000000000a5c00100000000000000a5d00100000000000000a5e00100000000000000a6000100000000000000a6100100000000000000a6200100000000000000a6300100000000000000a6500100000000000000a6600100000000000000a6700100000000000000a6804100000000000000a6a03ce03cf03d003d104100000000000000a6f03d203d303d403d504100000000000000a7403d603d703d803d904100000000000000a7903da03db03dc03dd00100000000000000a6b00100000000000000a6c00100000000000000a6d00100000000000000a6e00100000000000000a7000100000000000000a7100100000000000000a7200100000000000000a7300100000000000000a7500100000000000000a7600100000000000000a7700100000000000000a7800100000000000000a7a00100000000000000a7b00100000000000000a7c00100000000000000a7d04100000000000000a7f03e203e303e403e504100000000000000a8403e603e703e803e904100000000000000a8903ea03eb03ec03ed04100000000000000a8e03ee03ef03f003f100100000000000000a8000100000000000000a8100100000000000000a8200100000000000000a8300100000000000000a8500100000000000000a8600100000000000000a8700100000000000000a8800100000000000000a8a00100000000000000a8b00100000000000000a8c00100000000000000a8d00100000000000000a8f00100000000000000a9000100000000000000a9100100000000000000a9204100000000000000a9403f603f703f803f904100000000000000a9903fa03fb03fc03fd04100000000000000a9e03fe03ff0400040104100000000000000aa3040204030404040500100000000000000a9500100000000000000a9600100000000000000a9700100000000000000a9800100000000000000a9a00100000000000000a9b00100000000000000a9c00100000000000000a9d00100000000000000a9f00100000000000000aa000100000000000000aa100100000000000000aa200100000000000000aa400100000000000000aa500100000000000000aa600100000000000000aa7041000000000000007ff040a040b040c040d04100000000000000854040e040f04100411041000000000000008a90412041304140415041000000000000008fe041604170418041904100000000000000800041a041b041c041d04100000000000000815042e042f043004310410000000000000082a04420443044404450410000000000000083f045604570458045904100000000000000855046a046b046c046d0410000000000000086a047e047f048004810410000000000000087f04920493049404950410000000000000089404a604a704a804a9041000000000000008aa04ba04bb04bc04bd041000000000000008bf04ce04cf04d004d1041000000000000008d404e204e304e404e5041000000000000008e904f604f704f804f9041000000000000008ff050a050b050c050d04100000000000000914051e051f052005210410000000000000092905320533053405350410000000000000093e054605470548054904100000000000000801041e041f042004210410000000000000080604220423042404250410000000000000080b042604270428042904100000000000000810042a042b042c042d001000000000000008020010000000000000080300100000000000000804001000000000000008050010000000000000080700100000000000000808001000000000000008090010000000000000080a0010000000000000080c0010000000000000080d0010000000000000080e0010000000000000080f001000000000000008110010000000000000081200100000000000000813001000000000000008140410000000000000081604320433043404350410000000000000081b043604370438043904100000000000000820043a043b043c043d04100000000000000825043e043f044004410010000000000000081700100000000000000818001000000000000008190010000000000000081a0010000000000000081c0010000000000000081d0010000000000000081e0010000000000000081f00100000000000000821001000000000000008220010000000000000082300100000000000000824001000000000000008260010000000000000082700100000000000000828001000000000000008290410000000000000082b044604470448044904100000000000000830044a044b044c044d04100000000000000835044e044f045004510410000000000000083a04520453045404550010000000000000082c0010000000000000082d0010000000000000082e0010000000000000082f00100000000000000831001000000000000008320010000000000000083300100000000000000834001000000000000008360010000000000000083700100000000000000838001000000000000008390010000000000000083b0010000000000000083c0010000000000000083d0010000000000000083e04100000000000000840045a045b045c045d04100000000000000845045e045f046004610410000000000000084a04620463046404650410000000000000084f046604670468046900100000000000000841001000000000000008420010000000000000084300100000000000000844001000000000000008460010000000000000084700100000000000000848001000000000000008490010000000000000084b0010000000000000084c0010000000000000084d0010000000000000084e0010000000000000085000100000000000000851001000000000000008520010000000000000085304100000000000000856046e046f047004710410000000000000085b047204730474047504100000000000000860047604770478047904100000000000000865047a047b047c047d0010000000000000085700100000000000000858001000000000000008590010000000000000085a0010000000000000085c0010000000000000085d0010000000000000085e0010000000000000085f00100000000000000861001000000000000008620010000000000000086300100000000000000864001000000000000008660010000000000000086700100000000000000868001000000000000008690410000000000000086b048204830484048504100000000000000870048604870488048904100000000000000875048a048b048c048d0410000000000000087a048e048f049004910010000000000000086c0010000000000000086d0010000000000000086e0010000000000000086f00100000000000000871001000000000000008720010000000000000087300100000000000000874001000000000000008760010000000000000087700100000000000000878001000000000000008790010000000000000087b0010000000000000087c0010000000000000087d0010000000000000087e04100000000000000880049604970498049904100000000000000885049a049b049c049d0410000000000000088a049e049f04a004a10410000000000000088f04a204a304a404a500100000000000000881001000000000000008820010000000000000088300100000000000000884001000000000000008860010000000000000088700100000000000000888001000000000000008890010000000000000088b0010000000000000088c0010000000000000088d0010000000000000088e001000000000000008900010000000000000089100100000000000000892001000000000000008930410000000000000089504aa04ab04ac04ad0410000000000000089a04ae04af04b004b10410000000000000089f04b204b304b404b5041000000000000008a404b604b704b804b9001000000000000008960010000000000000089700100000000000000898001000000000000008990010000000000000089b0010000000000000089c0010000000000000089d0010000000000000089e001000000000000008a0001000000000000008a1001000000000000008a2001000000000000008a3001000000000000008a5001000000000000008a6001000000000000008a7001000000000000008a8041000000000000008ab04be04bf04c004c1041000000000000008b004c204c304c404c5041000000000000008b504c604c704c804c9041000000000000008ba04ca04cb04cc04cd001000000000000008ac001000000000000008ad001000000000000008ae001000000000000008af001000000000000008b1001000000000000008b2001000000000000008b3001000000000000008b4001000000000000008b6001000000000000008b7001000000000000008b8001000000000000008b9001000000000000008bb001000000000000008bc001000000000000008bd001000000000000008be041000000000000008c004d204d304d404d5041000000000000008c504d604d704d804d9041000000000000008ca04da04db04dc04dd041000000000000008cf04de04df04e004e1001000000000000008c1001000000000000008c2001000000000000008c3001000000000000008c4001000000000000008c6001000000000000008c7001000000000000008c8001000000000000008c9001000000000000008cb001000000000000008cc001000000000000008cd001000000000000008ce001000000000000008d0001000000000000008d1001000000000000008d2001000000000000008d3041000000000000008d504e604e704e804e9041000000000000008da04ea04eb04ec04ed041000000000000008df04ee04ef04f004f1041000000000000008e404f204f304f404f5001000000000000008d6001000000000000008d7001000000000000008d8001000000000000008d9001000000000000008db001000000000000008dc001000000000000008dd001000000000000008de001000000000000008e0001000000000000008e1001000000000000008e2001000000000000008e3001000000000000008e5001000000000000008e6001000000000000008e7001000000000000008e8041000000000000008ea04fa04fb04fc04fd041000000000000008ef04fe04ff05000501041000000000000008f40502050305040505041000000000000008f90506050705080509001000000000000008eb001000000000000008ec001000000000000008ed001000000000000008ee001000000000000008f0001000000000000008f1001000000000000008f2001000000000000008f3001000000000000008f5001000000000000008f6001000000000000008f7001000000000000008f8001000000000000008fa001000000000000008fb001000000000000008fc001000000000000008fd04100000000000000900050e050f051005110410000000000000090505120513051405150410000000000000090a05160517051805190410000000000000090f051a051b051c051d00100000000000000901001000000000000009020010000000000000090300100000000000000904001000000000000009060010000000000000090700100000000000000908001000000000000009090010000000000000090b0010000000000000090c0010000000000000090d0010000000000000090e001000000000000009100010000000000000091100100000000000000912001000000000000009130410000000000000091505220523052405250410000000000000091a05260527052805290410000000000000091f052a052b052c052d04100000000000000924052e052f05300531001000000000000009160010000000000000091700100000000000000918001000000000000009190010000000000000091b0010000000000000091c0010000000000000091d0010000000000000091e00100000000000000920001000000000000009210010000000000000092200100000000000000923001000000000000009250010000000000000092600100000000000000927001000000000000009280410000000000000092a05360537053805390410000000000000092f053a053b053c053d04100000000000000934053e053f054005410410000000000000093905420543054405450010000000000000092b0010000000000000092c0010000000000000092d0010000000000000092e00100000000000000930001000000000000009310010000000000000093200100000000000000933001000000000000009350010000000000000093600100000000000000937001000000000000009380010000000000000093a0010000000000000093b0010000000000000093c0010000000000000093d0410000000000000093f054a054b054c054d04100000000000000944054e054f055005510410000000000000094905520553055405550410000000000000094e055605570558055900100000000000000940001000000000000009410010000000000000094200100000000000000943001000000000000009450010000000000000094600100000000000000947001000000000000009480010000000000000094a0010000000000000094b0010000000000000094c0010000000000000094d0010000000000000094f001000000000000009500010000000000000095100100000000000000952041000000000000006aa055e055f05600561041000000000000006ff0562056305640565041000000000000007540566056705680569041000000000000007a9056a056b056c056d041000000000000006ab056e056f05700571041000000000000006c00582058305840585041000000000000006d50596059705980599041000000000000006ea05aa05ab05ac05ad0410000000000000070005be05bf05c005c10410000000000000071505d205d305d405d50410000000000000072a05e605e705e805e90410000000000000073f05fa05fb05fc05fd04100000000000000755060e060f061006110410000000000000076a06220623062406250410000000000000077f063606370638063904100000000000000794064a064b064c064d041000000000000007aa065e065f06600661041000000000000007bf0672067306740675041000000000000007d40686068706880689041000000000000007e9069a069b069c069d041000000000000006ac0572057305740575041000000000000006b10576057705780579041000000000000006b6057a057b057c057d041000000000000006bb057e057f05800581001000000000000006ad001000000000000006ae001000000000000006af001000000000000006b0001000000000000006b2001000000000000006b3001000000000000006b4001000000000000006b5001000000000000006b7001000000000000006b8001000000000000006b9001000000000000006ba001000000000000006bc001000000000000006bd001000000000000006be001000000000000006bf041000000000000006c10586058705880589041000000000000006c6058a058b058c058d041000000000000006cb058e058f05900591041000000000000006d00592059305940595001000000000000006c2001000000000000006c3001000000000000006c4001000000000000006c5001000000000000006c7001000000000000006c8001000000000000006c9001000000000000006ca001000000000000006cc001000000000000006cd001000000000000006ce001000000000000006cf001000000000000006d1001000000000000006d2001000000000000006d3001000000000000006d4041000000000000006d6059a059b059c059d041000000000000006db059e059f05a005a1041000000000000006e005a205a305a405a5041000000000000006e505a605a705a805a9001000000000000006d7001000000000000006d8001000000000000006d9001000000000000006da001000000000000006dc001000000000000006dd001000000000000006de001000000000000006df001000000000000006e1001000000000000006e2001000000000000006e3001000000000000006e4001000000000000006e6001000000000000006e7001000000000000006e8001000000000000006e9041000000000000006eb05ae05af05b005b1041000000000000006f005b205b305b405b5041000000000000006f505b605b705b805b9041000000000000006fa05ba05bb05bc05bd001000000000000006ec001000000000000006ed001000000000000006ee001000000000000006ef001000000000000006f1001000000000000006f2001000000000000006f3001000000000000006f4001000000000000006f6001000000000000006f7001000000000000006f8001000000000000006f9001000000000000006fb001000000000000006fc001000000000000006fd001000000000000006fe0410000000000000070105c205c305c405c50410000000000000070605c605c705c805c90410000000000000070b05ca05cb05cc05cd0410000000000000071005ce05cf05d005d1001000000000000007020010000000000000070300100000000000000704001000000000000007050010000000000000070700100000000000000708001000000000000007090010000000000000070a0010000000000000070c0010000000000000070d0010000000000000070e0010000000000000070f001000000000000007110010000000000000071200100000000000000713001000000000000007140410000000000000071605d605d705d805d90410000000000000071b05da05db05dc05dd0410000000000000072005de05df05e005e10410000000000000072505e205e305e405e50010000000000000071700100000000000000718001000000000000007190010000000000000071a0010000000000000071c0010000000000000071d0010000000000000071e0010000000000000071f00100000000000000721001000000000000007220010000000000000072300100000000000000724001000000000000007260010000000000000072700100000000000000728001000000000000007290410000000000000072b05ea05eb05ec05ed0410000000000000073005ee05ef05f005f10410000000000000073505f205f305f405f50410000000000000073a05f605f705f805f90010000000000000072c0010000000000000072d0010000000000000072e0010000000000000072f00100000000000000731001000000000000007320010000000000000073300100000000000000734001000000000000007360010000000000000073700100000000000000738001000000000000007390010000000000000073b0010000000000000073c0010000000000000073d0010000000000000073e0410000000000000074005fe05ff060006010410000000000000074506020603060406050410000000000000074a06060607060806090410000000000000074f060a060b060c060d00100000000000000741001000000000000007420010000000000000074300100000000000000744001000000000000007460010000000000000074700100000000000000748001000000000000007490010000000000000074b0010000000000000074c0010000000000000074d0010000000000000074e001000000000000007500010000000000000075100100000000000000752001000000000000007530410000000000000075606120613061406150410000000000000075b061606170618061904100000000000000760061a061b061c061d04100000000000000765061e061f062006210010000000000000075700100000000000000758001000000000000007590010000000000000075a0010000000000000075c0010000000000000075d0010000000000000075e0010000000000000075f00100000000000000761001000000000000007620010000000000000076300100000000000000764001000000000000007660010000000000000076700100000000000000768001000000000000007690410000000000000076b062606270628062904100000000000000770062a062b062c062d04100000000000000775062e062f063006310410000000000000077a06320633063406350010000000000000076c0010000000000000076d0010000000000000076e0010000000000000076f00100000000000000771001000000000000007720010000000000000077300100000000000000774001000000000000007760010000000000000077700100000000000000778001000000000000007790010000000000000077b0010000000000000077c0010000000000000077d0010000000000000077e04100000000000000780063a063b063c063d04100000000000000785063e063f064006410410000000000000078a06420643064406450410000000000000078f064606470648064900100000000000000781001000000000000007820010000000000000078300100000000000000784001000000000000007860010000000000000078700100000000000000788001000000000000007890010000000000000078b0010000000000000078c0010000000000000078d0010000000000000078e0010000000000000079000100000000000000791001000000000000007920010000000000000079304100000000000000795064e064f065006510410000000000000079a06520653065406550410000000000000079f0656065706580659041000000000000007a4065a065b065c065d001000000000000007960010000000000000079700100000000000000798001000000000000007990010000000000000079b0010000000000000079c0010000000000000079d0010000000000000079e001000000000000007a0001000000000000007a1001000000000000007a2001000000000000007a3001000000000000007a5001000000000000007a6001000000000000007a7001000000000000007a8041000000000000007ab0662066306640665041000000000000007b00666066706680669041000000000000007b5066a066b066c066d041000000000000007ba066e066f06700671001000000000000007ac001000000000000007ad001000000000000007ae001000000000000007af001000000000000007b1001000000000000007b2001000000000000007b3001000000000000007b4001000000000000007b6001000000000000007b7001000000000000007b8001000000000000007b9001000000000000007bb001000000000000007bc001000000000000007bd001000000000000007be041000000000000007c00676067706780679041000000000000007c5067a067b067c067d041000000000000007ca067e067f06800681041000000000000007cf0682068306840685001000000000000007c1001000000000000007c2001000000000000007c3001000000000000007c4001000000000000007c6001000000000000007c7001000000000000007c8001000000000000007c9001000000000000007cb001000000000000007cc001000000000000007cd001000000000000007ce001000000000000007d0001000000000000007d1001000000000000007d2001000000000000007d3041000000000000007d5068a068b068c068d041000000000000007da068e068f06900691041000000000000007df0692069306940695041000000000000007e40696069706980699001000000000000007d6001000000000000007d7001000000000000007d8001000000000000007d9001000000000000007db001000000000000007dc001000000000000007dd001000000000000007de001000000000000007e0001000000000000007e1001000000000000007e2001000000000000007e3001000000000000007e5001000000000000007e6001000000000000007e7001000000000000007e8041000000000000007ea069e069f06a006a1041000000000000007ef06a206a306a406a5041000000000000007f406a606a706a806a9041000000000000007f906aa06ab06ac06ad001000000000000007eb001000000000000007ec001000000000000007ed001000000000000007ee001000000000000007f0001000000000000007f1001000000000000007f2001000000000000007f3001000000000000007f5001000000000000007f6001000000000000007f7001000000000000007f8001000000000000007fa001000000000000007fb001000000000000007fc001000000000000007fd0410000000000000055506b206b306b406b5041000000000000005aa06b606b706b806b9041000000000000005ff06ba06bb06bc06bd0410000000000000065406be06bf06c006c10410000000000000055606c206c306c406c50410000000000000056b06d606d706d806d90410000000000000058006ea06eb06ec06ed0410000000000000059506fe06ff07000701041000000000000005ab0712071307140715041000000000000005c00726072707280729041000000000000005d5073a073b073c073d041000000000000005ea074e074f075007510410000000000000060007620763076407650410000000000000061507760777077807790410000000000000062a078a078b078c078d0410000000000000063f079e079f07a007a10410000000000000065507b207b307b407b50410000000000000066a07c607c707c807c90410000000000000067f07da07db07dc07dd0410000000000000069407ee07ef07f007f10410000000000000055706c606c706c806c90410000000000000055c06ca06cb06cc06cd0410000000000000056106ce06cf06d006d10410000000000000056606d206d306d406d500100000000000000558001000000000000005590010000000000000055a0010000000000000055b0010000000000000055d0010000000000000055e0010000000000000055f00100000000000000560001000000000000005620010000000000000056300100000000000000564001000000000000005650010000000000000056700100000000000000568001000000000000005690010000000000000056a0410000000000000056c06da06db06dc06dd0410000000000000057106de06df06e006e10410000000000000057606e206e306e406e50410000000000000057b06e606e706e806e90010000000000000056d0010000000000000056e0010000000000000056f00100000000000000570001000000000000005720010000000000000057300100000000000000574001000000000000005750010000000000000057700100000000000000578001000000000000005790010000000000000057a0010000000000000057c0010000000000000057d0010000000000000057e0010000000000000057f0410000000000000058106ee06ef06f006f10410000000000000058606f206f306f406f50410000000000000058b06f606f706f806f90410000000000000059006fa06fb06fc06fd001000000000000005820010000000000000058300100000000000000584001000000000000005850010000000000000058700100000000000000588001000000000000005890010000000000000058a0010000000000000058c0010000000000000058d0010000000000000058e0010000000000000058f001000000000000005910010000000000000059200100000000000000593001000000000000005940410000000000000059607020703070407050410000000000000059b0706070707080709041000000000000005a0070a070b070c070d041000000000000005a5070e070f071007110010000000000000059700100000000000000598001000000000000005990010000000000000059a0010000000000000059c0010000000000000059d0010000000000000059e0010000000000000059f001000000000000005a1001000000000000005a2001000000000000005a3001000000000000005a4001000000000000005a6001000000000000005a7001000000000000005a8001000000000000005a9041000000000000005ac0716071707180719041000000000000005b1071a071b071c071d041000000000000005b6071e071f07200721041000000000000005bb0722072307240725001000000000000005ad001000000000000005ae001000000000000005af001000000000000005b0001000000000000005b2001000000000000005b3001000000000000005b4001000000000000005b5001000000000000005b7001000000000000005b8001000000000000005b9001000000000000005ba001000000000000005bc001000000000000005bd001000000000000005be001000000000000005bf041000000000000005c1072a072b072c072d041000000000000005c6072e072f07300731041000000000000005cb0732073307340735041000000000000005d00736073707380739001000000000000005c2001000000000000005c3001000000000000005c4001000000000000005c5001000000000000005c7001000000000000005c8001000000000000005c9001000000000000005ca001000000000000005cc001000000000000005cd001000000000000005ce001000000000000005cf001000000000000005d1001000000000000005d2001000000000000005d3001000000000000005d4041000000000000005d6073e073f07400741041000000000000005db0742074307440745041000000000000005e00746074707480749041000000000000005e5074a074b074c074d001000000000000005d7001000000000000005d8001000000000000005d9001000000000000005da001000000000000005dc001000000000000005dd001000000000000005de001000000000000005df001000000000000005e1001000000000000005e2001000000000000005e3001000000000000005e4001000000000000005e6001000000000000005e7001000000000000005e8001000000000000005e9041000000000000005eb0752075307540755041000000000000005f00756075707580759041000000000000005f5075a075b075c075d041000000000000005fa075e075f07600761001000000000000005ec001000000000000005ed001000000000000005ee001000000000000005ef001000000000000005f1001000000000000005f2001000000000000005f3001000000000000005f4001000000000000005f6001000000000000005f7001000000000000005f8001000000000000005f9001000000000000005fb001000000000000005fc001000000000000005fd001000000000000005fe04100000000000000601076607670768076904100000000000000606076a076b076c076d0410000000000000060b076e076f07700771041000000000000006100772077307740775001000000000000006020010000000000000060300100000000000000604001000000000000006050010000000000000060700100000000000000608001000000000000006090010000000000000060a0010000000000000060c0010000000000000060d0010000000000000060e0010000000000000060f0010000000000000061100100000000000000612001000000000000006130010000000000000061404100000000000000616077a077b077c077d0410000000000000061b077e077f078007810410000000000000062007820783078407850410000000000000062507860787078807890010000000000000061700100000000000000618001000000000000006190010000000000000061a0010000000000000061c0010000000000000061d0010000000000000061e0010000000000000061f00100000000000000621001000000000000006220010000000000000062300100000000000000624001000000000000006260010000000000000062700100000000000000628001000000000000006290410000000000000062b078e078f079007910410000000000000063007920793079407950410000000000000063507960797079807990410000000000000063a079a079b079c079d0010000000000000062c0010000000000000062d0010000000000000062e0010000000000000062f00100000000000000631001000000000000006320010000000000000063300100000000000000634001000000000000006360010000000000000063700100000000000000638001000000000000006390010000000000000063b0010000000000000063c0010000000000000063d0010000000000000063e0410000000000000064007a207a307a407a50410000000000000064507a607a707a807a90410000000000000064a07aa07ab07ac07ad0410000000000000064f07ae07af07b007b100100000000000000641001000000000000006420010000000000000064300100000000000000644001000000000000006460010000000000000064700100000000000000648001000000000000006490010000000000000064b0010000000000000064c0010000000000000064d0010000000000000064e001000000000000006500010000000000000065100100000000000000652001000000000000006530410000000000000065607b607b707b807b90410000000000000065b07ba07bb07bc07bd0410000000000000066007be07bf07c007c10410000000000000066507c207c307c407c50010000000000000065700100000000000000658001000000000000006590010000000000000065a0010000000000000065c0010000000000000065d0010000000000000065e0010000000000000065f00100000000000000661001000000000000006620010000000000000066300100000000000000664001000000000000006660010000000000000066700100000000000000668001000000000000006690410000000000000066b07ca07cb07cc07cd0410000000000000067007ce07cf07d007d10410000000000000067507d207d307d407d50410000000000000067a07d607d707d807d90010000000000000066c0010000000000000066d0010000000000000066e0010000000000000066f00100000000000000671001000000000000006720010000000000000067300100000000000000674001000000000000006760010000000000000067700100000000000000678001000000000000006790010000000000000067b0010000000000000067c0010000000000000067d0010000000000000067e0410000000000000068007de07df07e007e10410000000000000068507e207e307e407e50410000000000000068a07e607e707e807e90410000000000000068f07ea07eb07ec07ed00100000000000000681001000000000000006820010000000000000068300100000000000000684001000000000000006860010000000000000068700100000000000000688001000000000000006890010000000000000068b0010000000000000068c0010000000000000068d0010000000000000068e001000000000000006900010000000000000069100100000000000000692001000000000000006930410000000000000069507f207f307f407f50410000000000000069a07f607f707f807f90410000000000000069f07fa07fb07fc07fd041000000000000006a407fe07ff08000801001000000000000006960010000000000000069700100000000000000698001000000000000006990010000000000000069b0010000000000000069c0010000000000000069d0010000000000000069e001000000000000006a0001000000000000006a1001000000000000006a2001000000000000006a3001000000000000006a5001000000000000006a6001000000000000006a7001000000000000006a804100000000000000400080608070808080904100000000000000455080a080b080c080d041000000000000004aa080e080f08100811041000000000000004ff081208130814081504100000000000000401081608170818081904100000000000000416082a082b082c082d0410000000000000042b083e083f084008410410000000000000044008520853085408550410000000000000045608660867086808690410000000000000046b087a087b087c087d04100000000000000480088e088f089008910410000000000000049508a208a308a408a5041000000000000004ab08b608b708b808b9041000000000000004c008ca08cb08cc08cd041000000000000004d508de08df08e008e1041000000000000004ea08f208f308f408f504100000000000000500090609070908090904100000000000000515091a091b091c091d0410000000000000052a092e092f093009310410000000000000053f094209430944094504100000000000000402081a081b081c081d04100000000000000407081e081f082008210410000000000000040c08220823082408250410000000000000041108260827082808290010000000000000040300100000000000000404001000000000000004050010000000000000040600100000000000000408001000000000000004090010000000000000040a0010000000000000040b0010000000000000040d0010000000000000040e0010000000000000040f001000000000000004100010000000000000041200100000000000000413001000000000000004140010000000000000041504100000000000000417082e082f083008310410000000000000041c083208330834083504100000000000000421083608370838083904100000000000000426083a083b083c083d00100000000000000418001000000000000004190010000000000000041a0010000000000000041b0010000000000000041d0010000000000000041e0010000000000000041f00100000000000000420001000000000000004220010000000000000042300100000000000000424001000000000000004250010000000000000042700100000000000000428001000000000000004290010000000000000042a0410000000000000042c084208430844084504100000000000000431084608470848084904100000000000000436084a084b084c084d0410000000000000043b084e084f085008510010000000000000042d0010000000000000042e0010000000000000042f00100000000000000430001000000000000004320010000000000000043300100000000000000434001000000000000004350010000000000000043700100000000000000438001000000000000004390010000000000000043a0010000000000000043c0010000000000000043d0010000000000000043e0010000000000000043f04100000000000000441085608570858085904100000000000000446085a085b085c085d0410000000000000044b085e085f08600861041000000000000004500862086308640865001000000000000004420010000000000000044300100000000000000444001000000000000004450010000000000000044700100000000000000448001000000000000004490010000000000000044a0010000000000000044c0010000000000000044d0010000000000000044e0010000000000000044f0010000000000000045100100000000000000452001000000000000004530010000000000000045404100000000000000457086a086b086c086d0410000000000000045c086e086f0870087104100000000000000461087208730874087504100000000000000466087608770878087900100000000000000458001000000000000004590010000000000000045a0010000000000000045b0010000000000000045d0010000000000000045e0010000000000000045f00100000000000000460001000000000000004620010000000000000046300100000000000000464001000000000000004650010000000000000046700100000000000000468001000000000000004690010000000000000046a0410000000000000046c087e087f088008810410000000000000047108820883088408850410000000000000047608860887088808890410000000000000047b088a088b088c088d0010000000000000046d0010000000000000046e0010000000000000046f00100000000000000470001000000000000004720010000000000000047300100000000000000474001000000000000004750010000000000000047700100000000000000478001000000000000004790010000000000000047a0010000000000000047c0010000000000000047d0010000000000000047e0010000000000000047f0410000000000000048108920893089408950410000000000000048608960897089808990410000000000000048b089a089b089c089d04100000000000000490089e089f08a008a1001000000000000004820010000000000000048300100000000000000484001000000000000004850010000000000000048700100000000000000488001000000000000004890010000000000000048a0010000000000000048c0010000000000000048d0010000000000000048e0010000000000000048f001000000000000004910010000000000000049200100000000000000493001000000000000004940410000000000000049608a608a708a808a90410000000000000049b08aa08ab08ac08ad041000000000000004a008ae08af08b008b1041000000000000004a508b208b308b408b50010000000000000049700100000000000000498001000000000000004990010000000000000049a0010000000000000049c0010000000000000049d0010000000000000049e0010000000000000049f001000000000000004a1001000000000000004a2001000000000000004a3001000000000000004a4001000000000000004a6001000000000000004a7001000000000000004a8001000000000000004a9041000000000000004ac08ba08bb08bc08bd041000000000000004b108be08bf08c008c1041000000000000004b608c208c308c408c5041000000000000004bb08c608c708c808c9001000000000000004ad001000000000000004ae001000000000000004af001000000000000004b0001000000000000004b2001000000000000004b3001000000000000004b4001000000000000004b5001000000000000004b7001000000000000004b8001000000000000004b9001000000000000004ba001000000000000004bc001000000000000004bd001000000000000004be001000000000000004bf041000000000000004c108ce08cf08d008d1041000000000000004c608d208d308d408d5041000000000000004cb08d608d708d808d9041000000000000004d008da08db08dc08dd001000000000000004c2001000000000000004c3001000000000000004c4001000000000000004c5001000000000000004c7001000000000000004c8001000000000000004c9001000000000000004ca001000000000000004cc001000000000000004cd001000000000000004ce001000000000000004cf001000000000000004d1001000000000000004d2001000000000000004d3001000000000000004d4041000000000000004d608e208e308e408e5041000000000000004db08e608e708e808e9041000000000000004e008ea08eb08ec08ed041000000000000004e508ee08ef08f008f1001000000000000004d7001000000000000004d8001000000000000004d9001000000000000004da001000000000000004dc001000000000000004dd001000000000000004de001000000000000004df001000000000000004e1001000000000000004e2001000000000000004e3001000000000000004e4001000000000000004e6001000000000000004e7001000000000000004e8001000000000000004e9041000000000000004eb08f608f708f808f9041000000000000004f008fa08fb08fc08fd041000000000000004f508fe08ff09000901041000000000000004fa0902090309040905001000000000000004ec001000000000000004ed001000000000000004ee001000000000000004ef001000000000000004f1001000000000000004f2001000000000000004f3001000000000000004f4001000000000000004f6001000000000000004f7001000000000000004f8001000000000000004f9001000000000000004fb001000000000000004fc001000000000000004fd001000000000000004fe04100000000000000501090a090b090c090d04100000000000000506090e090f091009110410000000000000050b0912091309140915041000000000000005100916091709180919001000000000000005020010000000000000050300100000000000000504001000000000000005050010000000000000050700100000000000000508001000000000000005090010000000000000050a0010000000000000050c0010000000000000050d0010000000000000050e0010000000000000050f0010000000000000051100100000000000000512001000000000000005130010000000000000051404100000000000000516091e091f092009210410000000000000051b092209230924092504100000000000000520092609270928092904100000000000000525092a092b092c092d0010000000000000051700100000000000000518001000000000000005190010000000000000051a0010000000000000051c0010000000000000051d0010000000000000051e0010000000000000051f00100000000000000521001000000000000005220010000000000000052300100000000000000524001000000000000005260010000000000000052700100000000000000528001000000000000005290410000000000000052b093209330934093504100000000000000530093609370938093904100000000000000535093a093b093c093d0410000000000000053a093e093f094009410010000000000000052c0010000000000000052d0010000000000000052e0010000000000000052f00100000000000000531001000000000000005320010000000000000053300100000000000000534001000000000000005360010000000000000053700100000000000000538001000000000000005390010000000000000053b0010000000000000053c0010000000000000053d0010000000000000053e04100000000000000540094609470948094904100000000000000545094a094b094c094d0410000000000000054a094e094f095009510410000000000000054f095209530954095500100000000000000541001000000000000005420010000000000000054300100000000000000544001000000000000005460010000000000000054700100000000000000548001000000000000005490010000000000000054b0010000000000000054c0010000000000000054d0010000000000000054e00100000000000000550001000000000000005510010000000000000055200100000000000000553041000000000000002ab095a095b095c095d04100000000000000300095e095f09600961041000000000000003550962096309640965041000000000000003aa0966096709680969041000000000000002ac096a096b096c096d041000000000000002c1097e097f09800981041000000000000002d60992099309940995041000000000000002eb09a609a709a809a90410000000000000030109ba09bb09bc09bd0410000000000000031609ce09cf09d009d10410000000000000032b09e209e309e409e50410000000000000034009f609f709f809f9041000000000000003560a0a0a0b0a0c0a0d0410000000000000036b0a1e0a1f0a200a21041000000000000003800a320a330a340a35041000000000000003950a460a470a480a49041000000000000003ab0a5a0a5b0a5c0a5d041000000000000003c00a6e0a6f0a700a71041000000000000003d50a820a830a840a85041000000000000003ea0a960a970a980a99041000000000000002ad096e096f09700971041000000000000002b20972097309740975041000000000000002b70976097709780979041000000000000002bc097a097b097c097d001000000000000002ae001000000000000002af001000000000000002b0001000000000000002b1001000000000000002b3001000000000000002b4001000000000000002b5001000000000000002b6001000000000000002b8001000000000000002b9001000000000000002ba001000000000000002bb001000000000000002bd001000000000000002be001000000000000002bf001000000000000002c0041000000000000002c20982098309840985041000000000000002c70986098709880989041000000000000002cc098a098b098c098d041000000000000002d1098e098f09900991001000000000000002c3001000000000000002c4001000000000000002c5001000000000000002c6001000000000000002c8001000000000000002c9001000000000000002ca001000000000000002cb001000000000000002cd001000000000000002ce001000000000000002cf001000000000000002d0001000000000000002d2001000000000000002d3001000000000000002d4001000000000000002d5041000000000000002d70996099709980999041000000000000002dc099a099b099c099d041000000000000002e1099e099f09a009a1041000000000000002e609a209a309a409a5001000000000000002d8001000000000000002d9001000000000000002da001000000000000002db001000000000000002dd001000000000000002de001000000000000002df001000000000000002e0001000000000000002e2001000000000000002e3001000000000000002e4001000000000000002e5001000000000000002e7001000000000000002e8001000000000000002e9001000000000000002ea041000000000000002ec09aa09ab09ac09ad041000000000000002f109ae09af09b009b1041000000000000002f609b209b309b409b5041000000000000002fb09b609b709b809b9001000000000000002ed001000000000000002ee001000000000000002ef001000000000000002f0001000000000000002f2001000000000000002f3001000000000000002f4001000000000000002f5001000000000000002f7001000000000000002f8001000000000000002f9001000000000000002fa001000000000000002fc001000000000000002fd001000000000000002fe001000000000000002ff0410000000000000030209be09bf09c009c10410000000000000030709c209c309c409c50410000000000000030c09c609c709c809c90410000000000000031109ca09cb09cc09cd0010000000000000030300100000000000000304001000000000000003050010000000000000030600100000000000000308001000000000000003090010000000000000030a0010000000000000030b0010000000000000030d0010000000000000030e0010000000000000030f00100000000000000310001000000000000003120010000000000000031300100000000000000314001000000000000003150410000000000000031709d209d309d409d50410000000000000031c09d609d709d809d90410000000000000032109da09db09dc09dd0410000000000000032609de09df09e009e100100000000000000318001000000000000003190010000000000000031a0010000000000000031b0010000000000000031d0010000000000000031e0010000000000000031f00100000000000000320001000000000000003220010000000000000032300100000000000000324001000000000000003250010000000000000032700100000000000000328001000000000000003290010000000000000032a0410000000000000032c09e609e709e809e90410000000000000033109ea09eb09ec09ed0410000000000000033609ee09ef09f009f10410000000000000033b09f209f309f409f50010000000000000032d0010000000000000032e0010000000000000032f00100000000000000330001000000000000003320010000000000000033300100000000000000334001000000000000003350010000000000000033700100000000000000338001000000000000003390010000000000000033a0010000000000000033c0010000000000000033d0010000000000000033e0010000000000000033f0410000000000000034109fa09fb09fc09fd0410000000000000034609fe09ff0a000a010410000000000000034b0a020a030a040a05041000000000000003500a060a070a080a09001000000000000003420010000000000000034300100000000000000344001000000000000003450010000000000000034700100000000000000348001000000000000003490010000000000000034a0010000000000000034c0010000000000000034d0010000000000000034e0010000000000000034f00100000000000000351001000000000000003520010000000000000035300100000000000000354041000000000000003570a0e0a0f0a100a110410000000000000035c0a120a130a140a15041000000000000003610a160a170a180a19041000000000000003660a1a0a1b0a1c0a1d00100000000000000358001000000000000003590010000000000000035a0010000000000000035b0010000000000000035d0010000000000000035e0010000000000000035f00100000000000000360001000000000000003620010000000000000036300100000000000000364001000000000000003650010000000000000036700100000000000000368001000000000000003690010000000000000036a0410000000000000036c0a220a230a240a25041000000000000003710a260a270a280a29041000000000000003760a2a0a2b0a2c0a2d0410000000000000037b0a2e0a2f0a300a310010000000000000036d0010000000000000036e0010000000000000036f00100000000000000370001000000000000003720010000000000000037300100000000000000374001000000000000003750010000000000000037700100000000000000378001000000000000003790010000000000000037a0010000000000000037c0010000000000000037d0010000000000000037e0010000000000000037f041000000000000003810a360a370a380a39041000000000000003860a3a0a3b0a3c0a3d0410000000000000038b0a3e0a3f0a400a41041000000000000003900a420a430a440a45001000000000000003820010000000000000038300100000000000000384001000000000000003850010000000000000038700100000000000000388001000000000000003890010000000000000038a0010000000000000038c0010000000000000038d0010000000000000038e0010000000000000038f00100000000000000391001000000000000003920010000000000000039300100000000000000394041000000000000003960a4a0a4b0a4c0a4d0410000000000000039b0a4e0a4f0a500a51041000000000000003a00a520a530a540a55041000000000000003a50a560a570a580a590010000000000000039700100000000000000398001000000000000003990010000000000000039a0010000000000000039c0010000000000000039d0010000000000000039e0010000000000000039f001000000000000003a1001000000000000003a2001000000000000003a3001000000000000003a4001000000000000003a6001000000000000003a7001000000000000003a8001000000000000003a9041000000000000003ac0a5e0a5f0a600a61041000000000000003b10a620a630a640a65041000000000000003b60a660a670a680a69041000000000000003bb0a6a0a6b0a6c0a6d001000000000000003ad001000000000000003ae001000000000000003af001000000000000003b0001000000000000003b2001000000000000003b3001000000000000003b4001000000000000003b5001000000000000003b7001000000000000003b8001000000000000003b9001000000000000003ba001000000000000003bc001000000000000003bd001000000000000003be001000000000000003bf041000000000000003c10a720a730a740a75041000000000000003c60a760a770a780a79041000000000000003cb0a7a0a7b0a7c0a7d041000000000000003d00a7e0a7f0a800a81001000000000000003c2001000000000000003c3001000000000000003c4001000000000000003c5001000000000000003c7001000000000000003c8001000000000000003c9001000000000000003ca001000000000000003cc001000000000000003cd001000000000000003ce001000000000000003cf001000000000000003d1001000000000000003d2001000000000000003d3001000000000000003d4041000000000000003d60a860a870a880a89041000000000000003db0a8a0a8b0a8c0a8d041000000000000003e00a8e0a8f0a900a91041000000000000003e50a920a930a940a95001000000000000003d7001000000000000003d8001000000000000003d9001000000000000003da001000000000000003dc001000000000000003dd001000000000000003de001000000000000003df001000000000000003e1001000000000000003e2001000000000000003e3001000000000000003e4001000000000000003e6001000000000000003e7001000000000000003e8001000000000000003e9041000000000000003eb0a9a0a9b0a9c0a9d041000000000000003f00a9e0a9f0aa00aa1041000000000000003f50aa20aa30aa40aa5041000000000000003fa0aa60aa70aa80aa9001000000000000003ec001000000000000003ed001000000000000003ee001000000000000003ef001000000000000003f1001000000000000003f2001000000000000003f3001000000000000003f4001000000000000003f6001000000000000003f7001000000000000003f8001000000000000003f9001000000000000003fb001000000000000003fc001000000000000003fd001000000000000003fe041000000000000001560aae0aaf0ab00ab1041000000000000001ab0ab20ab30ab40ab5041000000000000002000ab60ab70ab80ab9041000000000000002550aba0abb0abc0abd041000000000000001570abe0abf0ac00ac10410000000000000016c0ad20ad30ad40ad5041000000000000001810ae60ae70ae80ae9041000000000000001960afa0afb0afc0afd041000000000000001ac0b0e0b0f0b100b11041000000000000001c10b220b230b240b25041000000000000001d60b360b370b380b39041000000000000001eb0b4a0b4b0b4c0b4d041000000000000002010b5e0b5f0b600b61041000000000000002160b720b730b740b750410000000000000022b0b860b870b880b89041000000000000002400b9a0b9b0b9c0b9d041000000000000002560bae0baf0bb00bb10410000000000000026b0bc20bc30bc40bc5041000000000000002800bd60bd70bd80bd9041000000000000002950bea0beb0bec0bed041000000000000001580ac20ac30ac40ac50410000000000000015d0ac60ac70ac80ac9041000000000000001620aca0acb0acc0acd041000000000000001670ace0acf0ad00ad1001000000000000001590010000000000000015a0010000000000000015b0010000000000000015c0010000000000000015e0010000000000000015f00100000000000000160001000000000000001610010000000000000016300100000000000000164001000000000000001650010000000000000016600100000000000000168001000000000000001690010000000000000016a0010000000000000016b0410000000000000016d0ad60ad70ad80ad9041000000000000001720ada0adb0adc0add041000000000000001770ade0adf0ae00ae10410000000000000017c0ae20ae30ae40ae50010000000000000016e0010000000000000016f00100000000000000170001000000000000001710010000000000000017300100000000000000174001000000000000001750010000000000000017600100000000000000178001000000000000001790010000000000000017a0010000000000000017b0010000000000000017d0010000000000000017e0010000000000000017f00100000000000000180041000000000000001820aea0aeb0aec0aed041000000000000001870aee0aef0af00af10410000000000000018c0af20af30af40af5041000000000000001910af60af70af80af90010000000000000018300100000000000000184001000000000000001850010000000000000018600100000000000000188001000000000000001890010000000000000018a0010000000000000018b0010000000000000018d0010000000000000018e0010000000000000018f0010000000000000019000100000000000000192001000000000000001930010000000000000019400100000000000000195041000000000000001970afe0aff0b000b010410000000000000019c0b020b030b040b05041000000000000001a10b060b070b080b09041000000000000001a60b0a0b0b0b0c0b0d00100000000000000198001000000000000001990010000000000000019a0010000000000000019b0010000000000000019d0010000000000000019e0010000000000000019f001000000000000001a0001000000000000001a2001000000000000001a3001000000000000001a4001000000000000001a5001000000000000001a7001000000000000001a8001000000000000001a9001000000000000001aa041000000000000001ad0b120b130b140b15041000000000000001b20b160b170b180b19041000000000000001b70b1a0b1b0b1c0b1d041000000000000001bc0b1e0b1f0b200b21001000000000000001ae001000000000000001af001000000000000001b0001000000000000001b1001000000000000001b3001000000000000001b4001000000000000001b5001000000000000001b6001000000000000001b8001000000000000001b9001000000000000001ba001000000000000001bb001000000000000001bd001000000000000001be001000000000000001bf001000000000000001c0041000000000000001c20b260b270b280b29041000000000000001c70b2a0b2b0b2c0b2d041000000000000001cc0b2e0b2f0b300b31041000000000000001d10b320b330b340b35001000000000000001c3001000000000000001c4001000000000000001c5001000000000000001c6001000000000000001c8001000000000000001c9001000000000000001ca001000000000000001cb001000000000000001cd001000000000000001ce001000000000000001cf001000000000000001d0001000000000000001d2001000000000000001d3001000000000000001d4001000000000000001d5041000000000000001d70b3a0b3b0b3c0b3d041000000000000001dc0b3e0b3f0b400b41041000000000000001e10b420b430b440b45041000000000000001e60b460b470b480b49001000000000000001d8001000000000000001d9001000000000000001da001000000000000001db001000000000000001dd001000000000000001de001000000000000001df001000000000000001e0001000000000000001e2001000000000000001e3001000000000000001e4001000000000000001e5001000000000000001e7001000000000000001e8001000000000000001e9001000000000000001ea041000000000000001ec0b4e0b4f0b500b51041000000000000001f10b520b530b540b55041000000000000001f60b560b570b580b59041000000000000001fb0b5a0b5b0b5c0b5d001000000000000001ed001000000000000001ee001000000000000001ef001000000000000001f0001000000000000001f2001000000000000001f3001000000000000001f4001000000000000001f5001000000000000001f7001000000000000001f8001000000000000001f9001000000000000001fa001000000000000001fc001000000000000001fd001000000000000001fe001000000000000001ff041000000000000002020b620b630b640b65041000000000000002070b660b670b680b690410000000000000020c0b6a0b6b0b6c0b6d041000000000000002110b6e0b6f0b700b710010000000000000020300100000000000000204001000000000000002050010000000000000020600100000000000000208001000000000000002090010000000000000020a0010000000000000020b0010000000000000020d0010000000000000020e0010000000000000020f0010000000000000021000100000000000000212001000000000000002130010000000000000021400100000000000000215041000000000000002170b760b770b780b790410000000000000021c0b7a0b7b0b7c0b7d041000000000000002210b7e0b7f0b800b81041000000000000002260b820b830b840b8500100000000000000218001000000000000002190010000000000000021a0010000000000000021b0010000000000000021d0010000000000000021e0010000000000000021f00100000000000000220001000000000000002220010000000000000022300100000000000000224001000000000000002250010000000000000022700100000000000000228001000000000000002290010000000000000022a0410000000000000022c0b8a0b8b0b8c0b8d041000000000000002310b8e0b8f0b900b91041000000000000002360b920b930b940b950410000000000000023b0b960b970b980b990010000000000000022d0010000000000000022e0010000000000000022f00100000000000000230001000000000000002320010000000000000023300100000000000000234001000000000000002350010000000000000023700100000000000000238001000000000000002390010000000000000023a0010000000000000023c0010000000000000023d0010000000000000023e0010000000000000023f041000000000000002410b9e0b9f0ba00ba1041000000000000002460ba20ba30ba40ba50410000000000000024b0ba60ba70ba80ba9041000000000000002500baa0bab0bac0bad001000000000000002420010000000000000024300100000000000000244001000000000000002450010000000000000024700100000000000000248001000000000000002490010000000000000024a0010000000000000024c0010000000000000024d0010000000000000024e0010000000000000024f00100000000000000251001000000000000002520010000000000000025300100000000000000254041000000000000002570bb20bb30bb40bb50410000000000000025c0bb60bb70bb80bb9041000000000000002610bba0bbb0bbc0bbd041000000000000002660bbe0bbf0bc00bc100100000000000000258001000000000000002590010000000000000025a0010000000000000025b0010000000000000025d0010000000000000025e0010000000000000025f00100000000000000260001000000000000002620010000000000000026300100000000000000264001000000000000002650010000000000000026700100000000000000268001000000000000002690010000000000000026a0410000000000000026c0bc60bc70bc80bc9041000000000000002710bca0bcb0bcc0bcd041000000000000002760bce0bcf0bd00bd10410000000000000027b0bd20bd30bd40bd50010000000000000026d0010000000000000026e0010000000000000026f00100000000000000270001000000000000002720010000000000000027300100000000000000274001000000000000002750010000000000000027700100000000000000278001000000000000002790010000000000000027a0010000000000000027c0010000000000000027d0010000000000000027e0010000000000000027f041000000000000002810bda0bdb0bdc0bdd041000000000000002860bde0bdf0be00be10410000000000000028b0be20be30be40be5041000000000000002900be60be70be80be9001000000000000002820010000000000000028300100000000000000284001000000000000002850010000000000000028700100000000000000288001000000000000002890010000000000000028a0010000000000000028c0010000000000000028d0010000000000000028e0010000000000000028f00100000000000000291001000000000000002920010000000000000029300100000000000000294041000000000000002960bee0bef0bf00bf10410000000000000029b0bf20bf30bf40bf5041000000000000002a00bf60bf70bf80bf9041000000000000002a50bfa0bfb0bfc0bfd0010000000000000029700100000000000000298001000000000000002990010000000000000029a0010000000000000029c0010000000000000029d0010000000000000029e0010000000000000029f001000000000000002a1001000000000000002a2001000000000000002a3001000000000000002a4001000000000000002a6001000000000000002a7001000000000000002a8001000000000000002a9041000000000000000010c020c030c040c05041000000000000000560c060c070c080c09041000000000000000ab0c0a0c0b0c0c0c0d041000000000000001000c0e0c0f0c100c11041000000000000000020c120c130c140c15041000000000000000170c260c270c280c290410000000000000002c0c3a0c3b0c3c0c3d041000000000000000410c4e0c4f0c500c51041000000000000000570c620c630c640c650410000000000000006c0c760c770c780c79041000000000000000810c8a0c8b0c8c0c8d041000000000000000960c9e0c9f0ca00ca1041000000000000000ac0cb20cb30cb40cb5041000000000000000c10cc60cc70cc80cc9041000000000000000d60cda0cdb0cdc0cdd041000000000000000eb0cee0cef0cf00cf1041000000000000001010d020d030d040d05041000000000000001160d160d170d180d190410000000000000012b0d2a0d2b0d2c0d2d041000000000000001400d3e0d3f0d400d41041000000000000000030c160c170c180c19041000000000000000080c1a0c1b0c1c0c1d0410000000000000000d0c1e0c1f0c200c21041000000000000000120c220c230c240c2500100000000000000004001000000000000000050010000000000000000600100000000000000007001000000000000000090010000000000000000a0010000000000000000b0010000000000000000c0010000000000000000e0010000000000000000f001000000000000000100010000000000000001100100000000000000013001000000000000000140010000000000000001500100000000000000016041000000000000000180c2a0c2b0c2c0c2d0410000000000000001d0c2e0c2f0c300c31041000000000000000220c320c330c340c35041000000000000000270c360c370c380c39001000000000000000190010000000000000001a0010000000000000001b0010000000000000001c0010000000000000001e0010000000000000001f00100000000000000020001000000000000000210010000000000000002300100000000000000024001000000000000000250010000000000000002600100000000000000028001000000000000000290010000000000000002a0010000000000000002b0410000000000000002d0c3e0c3f0c400c41041000000000000000320c420c430c440c45041000000000000000370c460c470c480c490410000000000000003c0c4a0c4b0c4c0c4d0010000000000000002e0010000000000000002f00100000000000000030001000000000000000310010000000000000003300100000000000000034001000000000000000350010000000000000003600100000000000000038001000000000000000390010000000000000003a0010000000000000003b0010000000000000003d0010000000000000003e0010000000000000003f00100000000000000040041000000000000000420c520c530c540c55041000000000000000470c560c570c580c590410000000000000004c0c5a0c5b0c5c0c5d041000000000000000510c5e0c5f0c600c610010000000000000004300100000000000000044001000000000000000450010000000000000004600100000000000000048001000000000000000490010000000000000004a0010000000000000004b0010000000000000004d0010000000000000004e0010000000000000004f0010000000000000005000100000000000000052001000000000000000530010000000000000005400100000000000000055041000000000000000580c660c670c680c690410000000000000005d0c6a0c6b0c6c0c6d041000000000000000620c6e0c6f0c700c71041000000000000000670c720c730c740c75001000000000000000590010000000000000005a0010000000000000005b0010000000000000005c0010000000000000005e0010000000000000005f00100000000000000060001000000000000000610010000000000000006300100000000000000064001000000000000000650010000000000000006600100000000000000068001000000000000000690010000000000000006a0010000000000000006b0410000000000000006d0c7a0c7b0c7c0c7d041000000000000000720c7e0c7f0c800c81041000000000000000770c820c830c840c850410000000000000007c0c860c870c880c890010000000000000006e0010000000000000006f00100000000000000070001000000000000000710010000000000000007300100000000000000074001000000000000000750010000000000000007600100000000000000078001000000000000000790010000000000000007a0010000000000000007b0010000000000000007d0010000000000000007e0010000000000000007f00100000000000000080041000000000000000820c8e0c8f0c900c91041000000000000000870c920c930c940c950410000000000000008c0c960c970c980c99041000000000000000910c9a0c9b0c9c0c9d0010000000000000008300100000000000000084001000000000000000850010000000000000008600100000000000000088001000000000000000890010000000000000008a0010000000000000008b0010000000000000008d0010000000000000008e0010000000000000008f0010000000000000009000100000000000000092001000000000000000930010000000000000009400100000000000000095041000000000000000970ca20ca30ca40ca50410000000000000009c0ca60ca70ca80ca9041000000000000000a10caa0cab0cac0cad041000000000000000a60cae0caf0cb00cb100100000000000000098001000000000000000990010000000000000009a0010000000000000009b0010000000000000009d0010000000000000009e0010000000000000009f001000000000000000a0001000000000000000a2001000000000000000a3001000000000000000a4001000000000000000a5001000000000000000a7001000000000000000a8001000000000000000a9001000000000000000aa041000000000000000ad0cb60cb70cb80cb9041000000000000000b20cba0cbb0cbc0cbd041000000000000000b70cbe0cbf0cc00cc1041000000000000000bc0cc20cc30cc40cc5001000000000000000ae001000000000000000af001000000000000000b0001000000000000000b1001000000000000000b3001000000000000000b4001000000000000000b5001000000000000000b6001000000000000000b8001000000000000000b9001000000000000000ba001000000000000000bb001000000000000000bd001000000000000000be001000000000000000bf001000000000000000c0041000000000000000c20cca0ccb0ccc0ccd041000000000000000c70cce0ccf0cd00cd1041000000000000000cc0cd20cd30cd40cd5041000000000000000d10cd60cd70cd80cd9001000000000000000c3001000000000000000c4001000000000000000c5001000000000000000c6001000000000000000c8001000000000000000c9001000000000000000ca001000000000000000cb001000000000000000cd001000000000000000ce001000000000000000cf001000000000000000d0001000000000000000d2001000000000000000d3001000000000000000d4001000000000000000d5041000000000000000d70cde0cdf0ce00ce1041000000000000000dc0ce20ce30ce40ce5041000000000000000e10ce60ce70ce80ce9041000000000000000e60cea0ceb0cec0ced001000000000000000d8001000000000000000d9001000000000000000da001000000000000000db001000000000000000dd001000000000000000de001000000000000000df001000000000000000e0001000000000000000e2001000000000000000e3001000000000000000e4001000000000000000e5001000000000000000e7001000000000000000e8001000000000000000e9001000000000000000ea041000000000000000ec0cf20cf30cf40cf5041000000000000000f10cf60cf70cf80cf9041000000000000000f60cfa0cfb0cfc0cfd041000000000000000fb0cfe0cff0d000d01001000000000000000ed001000000000000000ee001000000000000000ef001000000000000000f0001000000000000000f2001000000000000000f3001000000000000000f4001000000000000000f5001000000000000000f7001000000000000000f8001000000000000000f9001000000000000000fa001000000000000000fc001000000000000000fd001000000000000000fe001000000000000000ff041000000000000001020d060d070d080d09041000000000000001070d0a0d0b0d0c0d0d0410000000000000010c0d0e0d0f0d100d11041000000000000001110d120d130d140d150010000000000000010300100000000000000104001000000000000001050010000000000000010600100000000000000108001000000000000001090010000000000000010a0010000000000000010b0010000000000000010d0010000000000000010e0010000000000000010f0010000000000000011000100000000000000112001000000000000001130010000000000000011400100000000000000115041000000000000001170d1a0d1b0d1c0d1d0410000000000000011c0d1e0d1f0d200d21041000000000000001210d220d230d240d25041000000000000001260d260d270d280d2900100000000000000118001000000000000001190010000000000000011a0010000000000000011b0010000000000000011d0010000000000000011e0010000000000000011f00100000000000000120001000000000000001220010000000000000012300100000000000000124001000000000000001250010000000000000012700100000000000000128001000000000000001290010000000000000012a0410000000000000012c0d2e0d2f0d300d31041000000000000001310d320d330d340d35041000000000000001360d360d370d380d390410000000000000013b0d3a0d3b0d3c0d3d0010000000000000012d0010000000000000012e0010000000000000012f00100000000000000130001000000000000001320010000000000000013300100000000000000134001000000000000001350010000000000000013700100000000000000138001000000000000001390010000000000000013a0010000000000000013c0010000000000000013d0010000000000000013e0010000000000000013f041000000000000001410d420d430d440d45041000000000000001460d460d470d480d490410000000000000014b0d4a0d4b0d4c0d4d041000000000000001500d4e0d4f0d500d51001000000000000001420010000000000000014300100000000000000144001000000000000001450010000000000000014700100000000000000148001000000000000001490010000000000000014a0010000000000000014c0010000000000000014d0010000000000000014e0010000000000000014f00100000000000000151001000000000000001520010000000000000015300100000000000000154"

func TestDecodeMultirootBocContainingLongs(t *testing.T) {
	bocBytes, err := hex.DecodeString(complexBoc)
	if err != nil {
		t.Errorf("failed to decode boc: %v", err)
	}

	cells, err := DeserializeBoc(bocBytes)
	if err != nil {
		t.Errorf("failed to deserialize boc: %v", err)
	}
	if len(cells) != 10 {
		t.Errorf("len(DeserializeBoc()) = %d; want %d", len(cells), 10)
	}

	var allIndexes []int
	for _, cell := range cells {
		indexes, err := visit(cell)
		if err != nil {
			t.Errorf("visit() failed %v", err)
		}
		allIndexes = append(allIndexes, indexes...)
	}
	if len(allIndexes) != 3410 {
		t.Errorf("len expected indexes = %d; want %d", len(allIndexes), 3410)
	}
	for i, value := range allIndexes {
		if i != value {
			t.Error()
		}
	}
}

func TestDecodeMultirootBocContainingText(t *testing.T) {
	s := "b5ee9c72010216160005f41514131211100f0e0d0c0b0a090807060504030201000088000000000000001500000000000000347765206d75737420656e7375726520746861742077652072657665616c206173206c6974746c6520617320706f737369626c652e006e0000000000000014000000000000002753696e636520616e7920696e666f726d6174696f6e2063616e2062652073706f6b656e206f662c0082000000000000001300000000000000317768696368206973206469726563746c79206e656365737361727920666f722074686174207472616e73616374696f6e2e00b60000000000000012000000000000004b7765206d75737420656e737572652074686174206561636820706172747920746f2061207472616e73616374696f6e2068617665206b6e6f776c65646765206f6e6c79206f66207468617400500000000000000011000000000000001853696e63652077652064657369726520707269766163792c00960000000000000010000000000000003b616e642069742077696c6c206e6f7420676f2061776179206d6572656c792062656361757365207765206d696768742077616e7420697420746f2e00aa000000000000000f000000000000004554686520706f776572206f6620656c656374726f6e696320636f6d6d756e69636174696f6e732068617320656e61626c656420737563682067726f7570207370656563682c007c000000000000000e000000000000002e6b6e6f776c656467652061626f757420696e646976696475616c7320616e64206f7468657220706172746965732e008e000000000000000d0000000000000037656163682063616e20737065616b20746f20616c6c20746865206f746865727320616e642061676772656761746520746f6765746865720082000000000000000c00000000000000314966206d616e79207061727469657320737065616b20746f67657468657220696e207468652073616d6520666f72756d2c0074000000000000000b000000000000002a7765207365656b206e6f7420746f20726573747269637420616e792073706565636820617420616c6c2e0094000000000000000a000000000000003a6576656e206d6f7265207468616e20707269766163792c2069732066756e64616d656e74616c20746f20616e206f70656e20736f63696574793b00940000000000000009000000000000003a4f6e6520636f756c642070617373206c61777320616761696e73742069742c20627574207468652066726565646f6d206f66207370656563682c00580000000000000008000000000000001c686f7720636f756c6420616e796f6e652070726576656e742069743f008800000000000000070000000000000034456163682070617274792063616e20737065616b2061626f7574207468656972206f776e206d656d6f7279206f6620746869733b00780000000000000006000000000000002c7468656e2065616368206861732061206d656d6f7279206f6620746865697220696e746572616374696f6e2e00740000000000000005000000000000002a49662074776f2070617274696573206861766520736f6d6520736f7274206f66206465616c696e67732c00a000000000000000040000000000000040507269766163792069732074686520706f77657220746f2073656c6563746976656c792072657665616c206f6e6573656c6620746f2074686520776f726c642e00a400000000000000030000000000000042627574206120736563726574206d617474657220697320736f6d657468696e67206f6e6520646f65736e27742077616e7420616e79626f647920746f206b6e6f772e00ae00000000000000020000000000000047412070726976617465206d617474657220697320736f6d657468696e67206f6e6520646f65736e27742077616e74207468652077686f6c6520776f726c6420746f206b6e6f772c004e0000000000000001000000000000001750726976616379206973206e6f7420736563726563792e009e0000000000000000000000000000003f50726976616379206973206e656365737361727920666f7220616e206f70656e20736f636965747920696e2074686520656c656374726f6e6963206167652e"

	encodedText := `Privacy is necessary for an open society in the electronic age.
Privacy is not secrecy.
A private matter is something one doesn't want the whole world to know,
but a secret matter is something one doesn't want anybody to know.
Privacy is the power to selectively reveal oneself to the world.
If two parties have some sort of dealings,
then each has a memory of their interaction.
Each party can speak about their own memory of this;
how could anyone prevent it?
One could pass laws against it, but the freedom of speech,
even more than privacy, is fundamental to an open society;
we seek not to restrict any speech at all.
If many parties speak together in the same forum,
each can speak to all the others and aggregate together
knowledge about individuals and other parties.
The power of electronic communications has enabled such group speech,
and it will not go away merely because we might want it to.
Since we desire privacy,
we must ensure that each party to a transaction have knowledge only of that
which is directly necessary for that transaction.
Since any information can be spoken of,
we must ensure that we reveal as little as possible.`

	lines := strings.Split(encodedText, "\n")
	bocBytes, err := hex.DecodeString(s)
	if err != nil {
		t.Errorf("hex.DecodeString() failed: %v", err)
	}

	cells, err := DeserializeBoc(bocBytes)
	if err != nil {
		t.Errorf("DeserializeBoc() failed: %v", err)
	}
	if len(cells) != len(lines) {
		t.Errorf("len(DeserializeBoc()) = %d; want %d", len(cells), len(lines))
	}

	for i, cell := range cells {
		// each cell is built with store_long(index).store_long(length).store_bytes(line)
		index, err := cell.ReadUint(64)
		if err != nil {
			t.Errorf("ReadUint() failed: %v", err)
		}
		if i != int(index) {
			t.Error()
		}
		length, err := cell.ReadUint(64)
		if err != nil {
			t.Errorf("ReadUint() failed: %v", err)
		}
		bytes, err := cell.ReadBytes(int(length))
		if err != nil {
			t.Errorf("ReadUint() failed: %v", err)
		}
		if lines[i] != string(bytes) {
			t.Errorf("cell contains '%v': want '%v'", string(bytes), lines[i])
		}
	}
}

func BenchmarkDeserializeBoc(b *testing.B) {
	bocBytes, err := hex.DecodeString(complexBoc)
	if err != nil {
		b.Errorf("hex.DecodeString() failed: %v", err)
	}
	b.ResetTimer()
	b.ReportAllocs()
	for i := 0; i < b.N; i++ {
		_, _ = DeserializeBoc(bocBytes)
	}
}
